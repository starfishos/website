(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08816763"],{"03b7":function(t,e,a){},41219:function(t,e,a){},4216:function(t,e,a){"use strict";a("826a")},5114:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAoCAYAAACFFRgXAAAAAXNSR0IArs4c6QAABT5JREFUWEftmW9sU2UUxs/7pxliNJqQoZiQqIRoIGp0KDHC/sBYx9ToJiAwHdtCkCgBh8zJJFmkMzGBb3xi04QYFz9oskVFmbquC/soUQwQzQwoGBQTNcbgynrOMe/tve1te9t7Z9vFD/RTm/Ztf/e5z3ne854KmJMHi5aW088qwhc0469Dwys2+v3sgdWfbWHBhxnkVeBEe/9E04RZI/wWFvv+ExvOLJaMxxRhjSYCzXxlaKRqYaHvfb3m005gOMoA0gb8NhJrvK/swI2bzq6UTMOKcKEFawHjlaGRh/MC76890SGJBgBAsn1VAqD8wHVbpxpDiWsfKMb5KVgf4H21JzpCwAOS2II16jJAPKTk+r6xhrGyKVzd+v1mhXRME4U0G2UxqS4RhJivvOdhib1rom0SZt7RyFIxGVDziAsJzZFo43HHQiX38KrWH3YKoCMaUdoWSMHms8TemugC1nRJEVWYi1PMwELEWUDLm9HwJ26/lxR4ZduFXkl0UFNCJOFs31rq2ip7eHhX4+TdemZ6KnkXEKRRFsQzkfGGj7OLs0TALKo6Lh6SCexKQzqAbksgaAbPlOiqHxtUmOgMEf8JgluzlS2dJTawuv/mnwc14TZlPEoEyuXZbA8XirXu+tFF82dCv/eN107ni72iFF6yiyvmTV9+XyE9pTmpqIF2F1mu4v45XCijM4G7eSVIeAkYKjWgUMgQYkwqhmwyNOlLtP2JeIdmutcqlLyezb6Awjnst1GlgfdzEyCMgABlFmXc1mR+uqrdBs9S07IEuyyRFWlBNo7gwD18DgDucRYU9KEDmkoB2w5Zr9NJ4Z/DfqC5RdfDaLZD6w1mKwtDObfa+WG3wvYtt5RNPk8WXmor9s3hoLCZO10PO1u3DezKUK9ba3ztyllzRyxQ92cD5nBJgLVROQXl9q+Xcq6EyLZFxsXmz+Gg0OmicyvsW3RpGzi7k1G72BwOAh0M2Lvas71ZdA731UT11Zm/bnCDvzX55N8CRMqu3sBsMtddOF6bQWbMFZvDXWu/7FNEPZqwQjI7rSUIEH+whO390fCH+YvO1xKlzeHda08ulhC/oAmtpsnq1tL9sIG+HImFFwUH9k2J4nJ4T8PE7QJnLmoilQRO9cOWOwSI85FY+C6fWJvbHO6qj+7QmNivGW+RlE5YEOKiEPLFg9F1ses5nFl4s+uHg0RacA/nND/XcziowK5ByquccFpL0/zMdQ4HJU5vHK/xV8DwoGd7+b/sh3v5UUAYBYAbcxr4MudwUHUzi8686uElwLAdBFSa8Lb6YXNMAgKFTp9rjk0JUGRyOnGnIqq2znBz3g/P5jKdz/axXH7plyOKcOfc98P/Bdhe80DnpYhC7C0mh830R0haVQHTp/rHmn7Mh1PUMd/9pQ91/NSlEngoxCRmO5d4Zd1kJdH0N4roNk30jwLY6DX1yfVwESqbpY+0nW/XREcVoU6PV52jlrPz5c4ldtdHWyXTu848QwHEyWOuVnJg84WPPT/1tEIeUoTzvE7NXvPhlxtOLhMY/9q5UNMPg4A4C1HeYaBzg+qem6oDxGFNeFPGFKjAfHhffXQb4Mzbmkg6/bCBFqLM41YHes3W71ZopOOKcEGQ+bBZ1133ebtmHHQG2nYzbCaZj0fGw1+UxRLuMli/6dxSwfSRosTS2f5l4Py/YZ08hDgTGQ8vLzuw+YGmptO36vlwRCFuCTqqOlB7ooOJBgy0LcDZ/ljjsjkBdhRvbj61OkSwQwH9NjRctccvkHqrRzcLoMMg+Jpk0f5GLBw1a/4FcJ6Yg7KRVMMAAAAASUVORK5CYII="},"58fd":function(t,e,a){"use strict";a("6bd2")},"5bbb4":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top"},[s("img",{staticClass:"tongzhi",attrs:{src:a("5114")}}),s("div",{staticClass:"notic-content"},["1"===t.type?s("div",{domProps:{innerHTML:t._s(t.applyRule)}}):s("div",{domProps:{innerHTML:t._s(t.rule)}})])])},n=[],i={name:"",props:["type"],data:function(){return{point:1e-6}},computed:{rule:function(){return this.$t("createDao.rule",{point:this.$gbUtils.accMul(this.point,100)})},applyRule:function(){return this.$t("my.rule",{point:this.$gbUtils.accMul(this.point,100)})}},methods:{},mounted:function(){}},o=i,c=(a("4216"),a("58fd"),a("2877")),r=Object(c["a"])(o,s,n,!1,null,"3b67efc9",null);e["a"]=r.exports},"67f3":function(t,e,a){"use strict";a("03b7")},"6bd2":function(t,e,a){},"6e3d":function(t,e,a){"use strict";a("c514")},"826a":function(t,e,a){},"873b":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"empty-page"},[t._m(0),t._t("default")],2)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("img",{staticClass:"img",attrs:{src:a("9d64")}})])}],i={name:"",data:function(){return{}},methods:{},mounted:function(){}},o=i,c=(a("f546"),a("2877")),r=Object(c["a"])(o,s,n,!1,null,"6a3dc824",null);e["a"]=r.exports},a434:function(t,e,a){"use strict";var s=a("23e7"),n=a("7b0b"),i=a("23cb"),o=a("5926"),c=a("07fa"),r=a("3511"),u=a("65f0"),l=a("8418"),d=a("083a"),p=a("1dde"),m=p("splice"),h=Math.max,v=Math.min;s({target:"Array",proto:!0,forced:!m},{splice:function(t,e){var a,s,p,m,f,b,g=n(this),w=c(g),y=i(t,w),L=arguments.length;for(0===L?a=s=0:1===L?(a=0,s=w-y):(a=L-2,s=v(h(o(e),0),w-y)),r(w+a-s),p=u(g,s),m=0;m<s;m++)f=y+m,f in g&&l(p,m,g[f]);if(p.length=s,a<s){for(m=y;m<w-s;m++)f=m+s,b=m+a,f in g?g[b]=g[f]:d(g,b);for(m=w;m>w-s+a;m--)d(g,m-1)}else if(a>s)for(m=w-s;m>y;m--)f=m+s-1,b=m+a-1,f in g?g[b]=g[f]:d(g,b);for(m=0;m<a;m++)g[m+y]=arguments[m+2];return g.length=w-s+a,p}})},ab9f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAQCAYAAAAI0W+oAAAAAXNSR0IArs4c6QAAAnRJREFUOE+l011IFFEUB/A7s3PPLLJYoUT0EAU9VD74IIEvsalsm1aWhRYVFEJgUdgHfdBDbA9BPYRZ1KJEhYUh9ilRRpkmYRiYFCbRp0hWimKpa5tzzrkxa2sprrvqPA2Xe/6/uWfO1UT42aVc4KK1ZsBR3X9e6xlZn+LLgfSaTIn8/WS9p9mO0MI5+mEqMpj3AtNbhbg8UOzqnKIhCr11xx2Ix4Ap4FSQ6KtLC/6DjqgCg9APhEIyt+AgpfWXxndPFtvprT9qKDohiYTJ3GLWNiT7hI9HIDvQPGidkkSHbAyUagaLMtr9M3tjxfJXP98vEU8DkwCij6yEu+hJRseo1oXDXPuCZ0Bhof1FoPiFqbHnw7mEvmjY1uzG3ZL4LDBqwNSmk+UufuxpD9eNOlF4MaEw4DcYC2AYazA19rZemD0QCcvLadohEUuAyUa+6EPC7a9Z9un//eNCQihtzp7+i5Iwf7iN/DROcFZT6dzBsVjOhlfbgOmSJNSB8JvUdHfJvdT3Y/dFgIQQPqXP6+otk0xbQhjzo580lN12ZUEwHLJqY8smQLwmiRzA2CUtlXb5QWrreCePDNm7c5VjYUJ3uUGYF2oj0/3BwEBOa2XS0MrN79br1u8KYDKAqMfJIr2sKuV1pPZODNlVPmUs7uislITrQtOk+I5pWVcNpuvABJLwh6m0jIpbyS8nGpjokBBiSe4bMOJn3AaiLBlqoz2+ofvWJ4lW3L2Z3BhtKmOC7JD52z87E4VeJQk9f+/JgIM4s7oy6Vk0ZNx7NFFRypqvcc5Zv24YxEudivIeli+qjQWZNBRr6OSnbjrJY2pj/kfTNf8AiNAsIEF1y1IAAAAASUVORK5CYII="},acee:function(t,e,a){},b20e:function(t,e,a){},c050:function(t,e,a){},c41a:function(t,e,a){"use strict";a("41219")},c514:function(t,e,a){},c7d6:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-wrap"},[a("MyHeader",{on:{changeTab:t.handleTabChange,changeMenu:t.handleMenuChange},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}}),0===t.currentTab&&t.voteListShow?a("div",{staticClass:"vote-list"},[t._l(t.voteList,(function(t,e){return a("VoteItem",{key:e,attrs:{dataSource:t}})})),t.voteList<=0?a("Empty"):t._e()],2):a("div",{staticClass:"dao-list"},[t._l(t.myDaoList,(function(e,s){return a("DaoItem",{key:e.daoAt,ref:"menu"+s,refInFor:!0,attrs:{dataSource:e},on:{hide:t.handleHideMenu,changeLoading:t.changeLoading}})})),t.myDaoList<=0?a("Empty"):t._e()],2)],1)},n=[],i=a("2909"),o=a("5530"),c=a("c7eb"),r=a("1da1"),u=(a("d3b7"),a("159b"),a("b0c0"),a("3ca3"),a("ddb0"),a("a434"),a("6262")),l=a("fcfc"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"my-header"},[a("div",{staticClass:"tab"},[a("div",{staticClass:"tab-item",class:{active:0===t.currentTab},on:{click:function(e){return t.handleChangeTab(0)}}},[t._v(" "+t._s(t.$t("my.myVote"))+" ")]),a("div",{staticClass:"tab-item",class:{active1:1===t.currentTab},on:{click:function(e){return t.handleChangeTab(1)}}},[t._v(" "+t._s(t.$t("my.daoAdmin"))+" ")])])]),a("div",{staticClass:"menu"},[0===t.currentTab?a("div",{staticClass:"status",on:{click:function(e){return e.stopPropagation(),t.handleShowMenu.apply(null,arguments)}}},[t._v(" "+t._s(t.currentMenu.text)+" "),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#xiangxiajiantou-copy"}})])]):t._e(),t.menuShow?a("div",{ref:"menu",staticClass:"wrapper"},t._l(t.menuList,(function(e){return a("div",{key:e.value,staticClass:"item",class:{active:e.value===t.currentMenu.value},on:{click:function(a){return t.handleChangeMenu(e)}}},[t._v(" "+t._s(e.text)+" ")])})),0):t._e()])])},p=[],m={name:"",props:["value"],data:function(){return{currentTab:0,menuShow:!1,menuList:[{value:0,text:this.$t("my.all")},{value:1,text:this.$t("my.ing")},{value:2,text:this.$t("my.wait")},{value:3,text:this.$t("my.end")}],currentMenu:{}}},methods:{handleChangeTab:function(t){this.currentTab=t,this.$emit("changeTab",t)},handleChangeMenu:function(t){this.currentMenu=t,this.$emit("changeMenu",t.value)},handleHideMenu:function(){this.menuShow=!1},handleShowMenu:function(){this.menuShow=!0}},mounted:function(){this.currentTab=this.value,this.currentMenu=this.menuList[0]},created:function(){document.addEventListener("click",this.handleHideMenu)},destroyed:function(){document.removeEventListener("click",this.handleHideMenu)},watch:{}},h=m,v=(a("67f3"),a("2877")),f=Object(v["a"])(h,d,p,!1,null,"acd6b5ac",null),b=f.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"proposal-wrap",on:{click:t.handleToDetail}},[a("div",{staticClass:"item-header"},[a("div",{staticClass:"dao-info"},[a("img",{attrs:{src:t.dataSource.logo,alt:""}}),a("div",{staticClass:"name"},[t._v(t._s(t.dataSource.name))]),1===t.timeStatus?a("div",{staticClass:"time"},[t._v(" "+t._s(t.$t("proposal.left"))+t._s(t.dataSource.endTime)+" ")]):t._e()]),a("div",{staticClass:"time-info"},[1===t.timeStatus?a("div",{staticClass:"status-wrap"},[a("div",{staticClass:"status"},[t._v(t._s(t.$t("proposal.voting")))])]):4===t.timeStatus?a("div",{staticClass:"status status4"},[t._v(" "+t._s(t.$t("proposal.waitVote"))+" ")]):a("div",{staticClass:"status status2"},[t._v(t._s(t.$t("proposal.ended")))])])]),a("div",{staticClass:"title"},[t._v(" "+t._s(t.dataSource.name_desc[0])+" ")]),a("div",{staticClass:"content ellipsis-3"},[t._v(" "+t._s(t.dataSource.name_desc[1])+" ")]),a("div",{staticClass:"bottom"},[a("div",{staticClass:"tag-group"},[a("div",{staticClass:"tag",class:"type"+t.type},[t._v(" "+t._s(t.list1[t.type])+" ")]),a("div",{staticClass:"tag",class:"tag"+t.tag},[t._v(" "+t._s(t.list2[t.tag])+" ")]),t.isReward?a("div",{staticClass:"tag pink-bg"},[t._v(" "+t._s(t.voteReward)+" ")]):t._e()]),a("div",{staticClass:"info"},[t._v(" "+t._s(t.$gbUtils.formatBalance(t.dataSource.totalVote/1e18))+" "),a("span",[t._v(t._s(t.$t("proposal.ticket")))])])])])},w=[],y=a("1f5d"),L=a("2f62"),A={name:"",props:["dataSource"],data:function(){return{type:0,tag:0,isReward:!1,timeStatus:0,tokenName:""}},computed:{list1:function(){return this.$t("proposal.list1")},list2:function(){return this.$t("proposal.list2")},voteReward:function(){return this.$t("proposal.voteReward")}},methods:Object(o["a"])(Object(o["a"])({},Object(L["b"])(["chanegProposalDetail"])),{},{handleToDetail:function(){this.chanegProposalDetail(this.dataSource),this.$router.push({path:"/proposalDetail?status=".concat(this.timeStatus)})},getTokenInfo:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y["a"].getSymbol(t.dataSource.token);case 2:a=e.sent,a.success&&(t.tokenName=a.result);case 4:case"end":return e.stop()}}),e)})))()},init:function(){this.type=parseInt(this.dataSource.uintParams[0]/10)-1,this.tag=parseInt(this.dataSource.uintParams[1]/10)-1,this.isReward=this.dataSource.uintParams[2]>0,this.timeStatus=this.dataSource.timeStatus}}),mounted:function(){this.getTokenInfo(),this.init()}},k=A,C=(a("d614"),Object(v["a"])(k,g,w,!1,null,"ad7ee198",null)),O=C.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dao-item"},[s("div",{staticClass:"info-box"},[s("img",{attrs:{src:t.dataSource.params[0]||t.defaultImg,alt:""}}),s("div",{staticClass:"info"},["ZH"===t.lang?s("div",{staticClass:"name"},[t._v(" "+t._s(t.dataSource.params[1])+" ")]):s("div",{staticClass:"name"},[t._v(t._s(t.dataSource.params[2]))]),s("div",{staticClass:"member"},[t._v(" "+t._s(t.dataSource.memberCount)+t._s(t.$t("my.members"))+" ")])])]),s("div",{staticClass:"operation",on:{click:function(e){return e.stopPropagation(),t.handleShowMenu.apply(null,arguments)}}},[s("span",[t._v(" "+t._s(t.$t("my.operation")))]),s("img",{staticClass:"icon",attrs:{src:a("ab9f")}})]),t.menuShow?s("div",{ref:"menu",staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"operation",on:{click:function(e){t.menuShow=!1}}},[s("span",[t._v(" "+t._s(t.$t("my.operation")))]),s("img",{staticClass:"icon",attrs:{src:a("ab9f")}})]),t.isCouncliAt?s("div",{staticClass:"item modify-info",on:{click:function(e){return e.stopPropagation(),t.handleToModify.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("my.modifyInfo"))+" ")]):t._e(),t.isCouncliAt?t._e():s("div",{staticClass:"item quit",on:{click:function(e){return e.stopPropagation(),t.handleRemoveShow(1)}}},[t._v(" "+t._s(t.$t("my.quit"))+" ")])]):t._e(),t.applyShow?s("ApplyCouncli",{attrs:{dataSource:t.dataSource},on:{close:t.handleApplyShow}}):t._e(),t.removeShow?s("RemoveCouncli",{attrs:{dataSource:t.dataSource,isRemove:t.isRemove},on:{close:t.handleRemoveShow}}):t._e()],1)},x=[],j=(a("e9c4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VanPopup",{staticStyle:{"box-sizing":"border-box",width:"93%","max-width":"350px",padding:"20px",background:"#060621"},attrs:{round:""},on:{"click-overlay":t.closePop},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("DaoRule",{attrs:{type:"1"}}),a("div",{staticClass:"window-wrap"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:t.dataSource.params[0]||t.defaultImg,alt:""}}),"ZH"===t.lang?a("div",{staticClass:"name"},[t._v(" "+t._s(t.dataSource.params[1])+" ")]):a("div",{staticClass:"name"},[t._v(t._s(t.dataSource.params[2]))])]),a("div",{staticClass:"contract"},[a("div",{staticClass:"name"},[t._v(t._s(t.$t("my.addressDes")))]),a("div",{staticClass:"address",attrs:{translate:"no"}},[t._v(" "+t._s(t.$gbUtils.formatAddress(t.dataSource.token,"...",10))+" ")])]),a("div",{staticClass:"content"},[a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[t._v(t._s(t.$t("my.tokenName")))]),a("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.tokenName))])]),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[t._v(t._s(t.$t("my.totalSupply")))]),a("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.totalSupply))])]),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[t._v(t._s(t.$t("my.needStake")))]),a("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.totalSupply/1e6))])]),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[t._v(t._s(t.$t("my.account")))]),a("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(" "+t._s(t.$gbUtils.formatBalance(t.tokenBalance))+" ")])])]),a("div",{staticClass:"button-group"},[t.authToken?a("VanButton",{staticClass:"button",attrs:{loading:t.btnLoading},on:{click:t.handleApplyDao}},[t._v(t._s(t.$t("my.appBtn")))]):a("VanButton",{staticClass:"button",attrs:{loading:t.btnLoading},on:{click:t.approveToken}},[t._v(t._s(t.$t("my.auth")))])],1)])],1)}),_=[],R=a("f645"),D=a("5bbb4"),E={name:"",props:["dataSource"],data:function(){return{defaultImg:a("9d64"),show:!0,authToken:!1,btnLoading:!0,tokenName:"",totalSupply:0,tokenBalance:0}},methods:{closePop:function(){this.$emit("close")},getAllowance:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnLoading=!0,e.next=3,y["a"].allowance(t.dataSource.token,R["a"].daoAddress);case 3:a=e.sent,a.success&&(t.authToken=a.result>0),t.btnLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},approveToken:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnLoading=!0,e.next=3,y["a"].approve(t.dataSource.token,R["a"].daoAddress,1e17);case 3:if(a=e.sent,t.btnLoading=!1,a.success){e.next=7;break}return e.abrupt("return",t.$toast(a.message.message));case 7:t.authToken=!0;case 8:case"end":return e.stop()}}),e)})))()},handleApplyDao:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnLoading=!0,e.next=3,l["a"].councliApply(t.dataSource.daoAt);case 3:if(a=e.sent,t.btnLoading=!1,a.success){e.next=7;break}return e.abrupt("return");case 7:t.$toast("success"),t.closePop();case 9:case"end":return e.stop()}}),e)})))()},getTokenInfo:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a,s,n;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y["a"].getSymbol(t.dataSource.token);case 2:return a=e.sent,e.next=5,y["a"].totalSupply(t.dataSource.token);case 5:return s=e.sent,e.next=8,y["a"].balanceOf(t.dataSource.token);case 8:n=e.sent,a.success&&s.success&&n.success&&(t.tokenName=a.result,t.totalSupply=s.result,t.tokenBalance=n.result);case 10:case"end":return e.stop()}}),e)})))()}},computed:Object(o["a"])({},Object(L["c"])(["lang"])),mounted:function(){this.getAllowance(),this.getTokenInfo()},components:{DaoRule:D["a"]}},$=E,M=(a("e48e"),Object(v["a"])($,j,_,!1,null,"6b0077aa",null)),T=M.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VanPopup",{staticStyle:{"box-sizing":"border-box",width:"279px","max-width":"350px",padding:"20px",background:"#FFFFFF33"},attrs:{round:""},on:{"click-overlay":t.closePop},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:t.dataSource.params[0],alt:""}}),0===t.isRemove?a("div",{staticClass:"name"},[t._v(t._s(t.$t("my.removeTitle")))]):a("div",{staticClass:"name"},[t._v(t._s(t.$t("my.quitTitle")))])]),0===t.isRemove?a("div",{staticClass:"des",domProps:{innerHTML:t._s(t.rule)}}):a("div",{staticClass:"des des1",domProps:{innerHTML:t._s(t.rule1)}}),a("div",{staticClass:"btn-group"},[a("VanButton",{staticClass:"button",attrs:{loading:t.btnLoading},on:{click:t.handleDao}},[t._v(t._s(t.$t("common.confirm")))])],1)])},P=[],H={name:"",props:["isRemove","dataSource"],data:function(){return{show:!0,daoName:"我的DAO",isQuit:0,btnLoading:!1,tokenName:"",totalSupply:0}},methods:{closePop:function(){this.$emit("close")},handleDao:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a,s;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.btnLoading=!0,console.log("this.isQuit",t.isQuit),t.isQuit){e.next=15;break}return console.log("councliQuit"),e.next=6,l["a"].councliQuit(t.dataSource.daoAt);case 6:if(a=e.sent,t.btnLoading=!1,a.success){e.next=10;break}return e.abrupt("return");case 10:t.$toast("success"),t.$parent.$parent.reload(),t.closePop(),e.next=25;break;case 15:return console.log("Daoquit"),e.next=18,l["a"].daoQuit(t.dataSource.daoAt);case 18:if(s=e.sent,t.btnLoading=!1,s.success){e.next=22;break}return e.abrupt("return");case 22:t.$toast("success"),t.$parent.$parent.reload(),t.closePop();case 25:case"end":return e.stop()}}),e)})))()},getTokenInfo:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a,s;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y["a"].getSymbol(t.dataSource.token);case 2:return a=e.sent,e.next=5,y["a"].totalSupply(t.dataSource.token);case 5:s=e.sent,a.success&&s.success&&(t.tokenName=a.result,t.totalSupply=s.result);case 7:case"end":return e.stop()}}),e)})))()}},computed:Object(o["a"])(Object(o["a"])({},Object(L["c"])(["lang"])),{},{rule:function(){return this.$t("my.removeDao",{daoName:"ZH"===this.lang?this.dataSource.params[1]:this.dataSource.params[2],stakeNumber:this.totalSupply/100,tokenName:this.tokenName})},rule1:function(){return this.$t("my.quitDao",{daoName:"ZH"===this.lang?this.dataSource.params[1]:this.dataSource.params[2]})}}),watch:{isRemove:function(t){this.isQuit=t,console.log("this.isQuit",this.isQuit)}},mounted:function(){this.getTokenInfo(),this.isQuit=this.isRemove,console.log("this.isQuit",this.isQuit)}},F=H,U=(a("c41a"),Object(v["a"])(F,I,P,!1,null,"0609c172",null)),V=U.exports,N={name:"",props:["dataSource"],data:function(){return{defaultImg:a("9d64"),menuShow:!1,removeShow:!1,applyShow:!1,isRemove:0,isCouncliAt:!1}},methods:{handleHideMenu:function(){this.menuShow=!1},handleApplyShow:function(){this.$emit("hide"),this.applyShow=!this.applyShow},handleRemoveShow:function(t){this.$emit("hide"),this.isRemove=t,console.log("this.isRemove",this.isRemove),this.removeShow=!this.removeShow},handleShowMenu:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("hide"),e.next=3,t.getIsCouncliAt();case 3:t.menuShow=!0;case 4:case"end":return e.stop()}}),e)})))()},getIsCouncliAt:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("changeLoading",!0),e.next=3,l["a"].userCouncli(t.dataSource.daoAt);case 3:if(a=e.sent,t.$emit("changeLoading",!1),a.success){e.next=7;break}return e.abrupt("return");case 7:t.isCouncliAt=a.result;case 8:case"end":return e.stop()}}),e)})))()},handleToModify:function(){localStorage.setItem("daoDetail",JSON.stringify(this.dataSource)),this.$router.push({path:"/modifyDao?dao"})}},computed:Object(o["a"])({},Object(L["c"])(["lang"])),mounted:function(){},created:function(){document.addEventListener("click",this.handleHideMenu)},destroyed:function(){document.removeEventListener("click",this.handleHideMenu)},components:{ApplyCouncli:T,RemoveCouncli:V}},B=N,Q=(a("ebc8"),Object(v["a"])(B,S,x,!1,null,"2a7c74f9",null)),J=Q.exports,q=a("873b"),z=a("4360"),Y={name:"",data:function(){return{currentTab:0,daoList:[],myDaoList:[],recordResloveList:[],myVoteMapList:[],myVoteList:[],votingList:[],endList:[],redeemList:[],voteList:[],voteListShow:!0,cobyEndList:[]}},methods:{changeLoading:function(t){this.$emit("changeLoadingIconType",0),this.$emit("changeLoading",t)},handleHideMenu:function(){var t=this;this.daoList.forEach((function(e,a){t.$refs["menu".concat(a)]&&(t.$refs["menu".concat(a)][0].menuShow=!1)}))},handleTabChange:function(t){this.currentTab=t},getDaoList:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("changeLoading",!0),t.$emit("changeLoadingIconType",1),e.next=4,l["a"].daoList();case 4:if(a=e.sent,a.success){e.next=7;break}return e.abrupt("return",t.$emit("changeLoading",!1));case 7:if(t.daoList=a.result||[],!(t.daoList.length<=0)){e.next=10;break}return e.abrupt("return",t.$emit("changeLoading",!1));case 10:t.getUserList();case 11:case"end":return e.stop()}}),e)})))()},getUserList:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a,s;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("changeLoading",!0),t.$emit("changeLoadingIconType",1),e.next=4,l["a"].userDaoList();case 4:if(a=e.sent,a.success){e.next=7;break}return e.abrupt("return",t.$emit("changeLoading",!1));case 7:a.result.forEach((function(e,a){if(e){var s=Object(o["a"])({},t.daoList[a]);s.name="ZH"===t.lang?s.params[1]:s.params[2],s.daoAt=a,s.proposalList=[],t.myDaoList.push(s)}})),s=0;case 9:if(!(s<t.myDaoList.length)){e.next=15;break}return e.next=12,t.handleProposalList(t.myDaoList[s].daoAt,s);case 12:s++,e.next=9;break;case 15:return t.myVoteMapList.forEach((function(e){var a=(new Date).getTime()/1e3,s=-1;a<+t.myDaoList[e.daoAt].proposalList[e.proposalAt].uintParams[3]?s=0:a<+t.myDaoList[e.daoAt].proposalList[e.proposalAt].uintParams[4]?(s=1,t.votingList.push(Object(o["a"])(Object(o["a"])({},t.myDaoList[e.daoAt].proposalList[e.proposalAt]),{},{endTime:t.$gbUtils.showStartime(+t.myDaoList[e.daoAt].proposalList[e.proposalAt].uintParams[4],t.lang),proposalAt:e.proposalAt,daoAt:e.daoAt,logo:t.myDaoList[e.daoAt].params[0],name:"ZH"===t.lang?t.myDaoList[e.daoAt].params[1]:t.myDaoList[e.daoAt].params[2],token:t.myDaoList[e.daoAt].token,timeStatus:s}))):(s=2,t.endList.push(Object(o["a"])(Object(o["a"])({},t.myDaoList[e.daoAt].proposalList[e.proposalAt]),{},{proposalAt:e.proposalAt,daoAt:e.daoAt,logo:t.myDaoList[e.daoAt].params[0],name:"ZH"===t.lang?t.myDaoList[e.daoAt].params[1]:t.myDaoList[e.daoAt].params[2],token:t.myDaoList[e.daoAt].token,timeStatus:2})))})),e.next=18,t.getRedeemList();case 18:t.addList();case 19:case"end":return e.stop()}}),e)})))()},addList:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a,s,n;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.myVoteList=[],(a=t.myVoteList).push.apply(a,Object(i["a"])(t.votingList)),(s=t.myVoteList).push.apply(s,Object(i["a"])(t.redeemList)),(n=t.myVoteList).push.apply(n,Object(i["a"])(t.endList)),t.voteList=t.myVoteList,t.voteListShow=!0,t.$emit("changeLoading",!1);case 7:case"end":return e.stop()}}),e)})))()},handleProposalList:function(t,e){var a=this;return Object(r["a"])(Object(c["a"])().mark((function s(){var n;return Object(c["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,l["a"].prosalList(t);case 2:n=s.sent,n.result.forEach((function(t,s){var n=Object(o["a"])({},t);n.index=s,a.myDaoList[e].proposalList.push(n)}));case 4:case"end":return s.stop()}}),s)})))()},handleMyVoteRecord:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a,s;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].userVoteRecordQuery();case 2:if(a=e.sent,a.success){e.next=5;break}return e.abrupt("return");case 5:s=0;case 6:if(!(s<a.result.length)){e.next=12;break}return e.next=9,t.handleResolveVoteRecord(a.result[s]);case 9:s++,e.next=6;break;case 12:t.myVoteMapList=t.$gbUtils.objHeavy(t.recordResloveList);case 13:case"end":return e.stop()}}),e)})))()},handleResolveVoteRecord:function(t){var e=this;return Object(r["a"])(Object(c["a"])().mark((function a(){var s;return Object(c["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,l["a"].voteRecordResolve(t);case 2:s=a.sent,s.success&&e.recordResloveList.push({daoAt:s.result.daoAt,proposalAt:s.result.proposalAt});case 4:case"end":return a.stop()}}),a)})))()},getRedeemList:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){var a,s;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.endList.length){e.next=2;break}return e.abrupt("return");case 2:t.cobyEndList=t.$gbUtils.objHeavy(t.endList),a=Object(c["a"])().mark((function e(a){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["c"])({creator:z["a"].state.myAccount,daoId:t.cobyEndList[a].daoAt,proposal:t.cobyEndList[a].daoAt+"_"+t.cobyEndList[a].proposalAt}).then((function(e){var s=!e.data.userProposalRecordEntities[0]||e.data.userProposalRecordEntities[0].redeemStatus;s&&(t.redeemList.push(Object(o["a"])(Object(o["a"])({},t.cobyEndList[a]),{},{timeStatus:4})),t.endList.splice(0,1))}));case 2:case"end":return e.stop()}}),e)})),s=0;case 5:if(!(s<t.cobyEndList.length)){e.next=10;break}return e.delegateYield(a(s),"t0",7);case 7:s++,e.next=5;break;case 10:case"end":return e.stop()}}),e)})))()},getVoteRecords:function(t,e){return Object(r["a"])(Object(c["a"])().mark((function a(){return Object(c["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:Object(u["c"])({creator:z["a"].state.myAccount,daoId:t,proposal:t+"_"+e}).then((function(t){return!t.data.userProposalRecordEntities[0]||t.data.userProposalRecordEntities[0].redeemStatus}));case 1:case"end":return a.stop()}}),a)})))()},handleMenuChange:function(t){switch(t){case 0:this.voteList=this.myVoteList;break;case 1:this.voteList=this.votingList;break;case 2:this.voteList=this.redeemList;break;case 3:this.voteList=this.endList;break}this.reload()},reload:function(){var t=this;this.voteListShow=!1,this.$nextTick((function(){t.voteListShow=!0}))},init:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("changeLoading",!0),t.$emit("changeLoadingIconType",1),e.next=4,t.handleMyVoteRecord();case 4:return e.next=6,t.getDaoList();case 6:case"end":return e.stop()}}),e)})))()}},computed:Object(o["a"])({},Object(L["c"])(["lang"])),watch:{},mounted:function(){this.voteListShow=!1,this.init()},components:{MyHeader:b,VoteItem:O,DaoItem:J,Empty:q["a"]}},K=Y,Z=(a("6e3d"),Object(v["a"])(K,s,n,!1,null,"cd6dfe04",null));e["default"]=Z.exports},d5cf:function(t,e,a){},d614:function(t,e,a){"use strict";a("acee")},e48e:function(t,e,a){"use strict";a("b20e")},ebc8:function(t,e,a){"use strict";a("c050")},f546:function(t,e,a){"use strict";a("d5cf")}}]);
//# sourceMappingURL=chunk-08816763.25839994.js.map