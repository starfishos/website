{"version":3,"sources":["webpack:///./src/views/task/Task.vue?a03d","webpack:///./src/views/task/Task.vue?428b","webpack:///src/views/task/Task.vue","webpack:///./src/views/task/Task.vue?40dd","webpack:///./src/views/task/Task.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","taskList","length","_v","_s","$t","_l","item","index","key","id","ref","refInFor","attrs","on","handleShowUpload","handleReject","uploadShow","tempId","handleUploadSuccess","_e","$event","$gbUtils","handleToPage","staticRenderFns","name","data","tempIndex","methods","getList","handleList","orderByColumn","isAsc","resp","temp","console","$refs","mounted","components","TaskItem","TaskPop","component"],"mappings":"2IAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAAEN,EAAIO,SAASC,QAAU,EAAGJ,EAAG,MAAM,CAACE,YAAY,WAAW,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,iBAAiB,OAAOX,EAAIY,GAAIZ,EAAY,UAAE,SAASa,EAAKC,GAAO,OAAOV,EAAG,WAAW,CAACW,IAAIF,EAAKG,GAAGC,IAAI,OAASJ,EAAKG,GAAGE,UAAS,EAAKC,MAAM,CAAC,MAAQL,EAAM,WAAaD,EAAK,KAAO,GAAGO,GAAG,CAAC,KAAOpB,EAAIqB,iBAAiB,OAASrB,EAAIsB,aAAa,MAAQ,WAC3ctB,EAAIuB,YAAa,SACXvB,EAAc,WAAEI,EAAG,UAAU,CAACe,MAAM,CAAC,OAASnB,EAAIwB,QAAQJ,GAAG,CAAC,QAAUpB,EAAIyB,oBAAoB,MAAQzB,EAAIqB,oBAAoBrB,EAAI0B,KAAKtB,EAAG,MAAM,CAACE,YAAY,OAAOa,MAAM,CAAC,cAAc,QAAQC,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO3B,EAAI4B,SAASC,aAAa,cAAc,CAACzB,EAAG,MAAM,CAACe,MAAM,CAAC,aAAa,cAAc,IACxUW,EAAkB,G,4DCuCP,GACbC,KAAMA,OACNC,KAFF,WAGI,MAAO,CACLzB,SAAUA,GACVgB,YAAYA,EACZC,OAAQA,GACRS,UAAWA,OAGfC,QAASA,CACPC,QADJ,WACA,8KACAC,gBACAC,mBACAC,eAHA,UACAC,EADA,OAKAA,UALA,iDAMA,kBANA,8CAQIlB,iBATJ,SASAmB,GACUA,IACFvC,KAAKuB,OAASgB,EAAKxB,IAErBf,KAAKsB,YAActB,KAAKsB,WACxBkB,QAAQA,IAAIA,kBAAmBA,KAAKA,aAEtChB,oBAhBJ,WAiBMxB,KAAKyC,MAAM,OAAjB,mDACMzC,KAAKsB,YAAa,GAEpBD,aApBJ,SAoBAR,GAAA,wJACA,cACA,gBAFA,+CAKE6B,QAnCF,WAoCI1C,KAAKkC,WAEPS,WAAYA,CAAdC,gBAAAC,iBChF6V,I,wBCQzVC,EAAY,eACd,EACAhD,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAiB,E","file":"js/chunk-723c5db7.72474510.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=style&index=0&id=7ca0b992&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"task-wrap\"},[(_vm.taskList.length <= 0)?_c('div',{staticClass:\"no-data\"},[_vm._v(\" \"+_vm._s(_vm.$t('admin.noTask'))+\" \")]):_vm._l((_vm.taskList),function(item,index){return _c('TaskItem',{key:item.id,ref:'item' + item.id,refInFor:true,attrs:{\"index\":index,\"dataSource\":item,\"type\":0},on:{\"show\":_vm.handleShowUpload,\"reject\":_vm.handleReject,\"close\":function () {\n          _vm.uploadShow = false\n        }}})}),(_vm.uploadShow)?_c('TaskPop',{attrs:{\"taskId\":_vm.tempId},on:{\"success\":_vm.handleUploadSuccess,\"close\":_vm.handleShowUpload}}):_vm._e(),_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){return _vm.$gbUtils.handleToPage('/myTask')}}},[_c('use',{attrs:{\"xlink:href\":\"#wode\"}})])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"task-wrap\">\n    <div class=\"no-data\" v-if=\"taskList.length <= 0\">\n      {{ $t('admin.noTask') }}\n    </div>\n    <template v-else>\n      <TaskItem\n        :ref=\"'item' + item.id\"\n        v-for=\"(item, index) in taskList\"\n        :key=\"item.id\"\n        :index=\"index\"\n        :dataSource=\"item\"\n        :type=\"0\"\n        @show=\"handleShowUpload\"\n        @reject=\"handleReject\"\n        @close=\"\n          () => {\n            uploadShow = false\n          }\n        \"\n      ></TaskItem>\n    </template>\n    <TaskPop\n      :taskId=\"tempId\"\n      v-if=\"uploadShow\"\n      @success=\"handleUploadSuccess\"\n      @close=\"handleShowUpload\"\n    ></TaskPop>\n    <svg\n      class=\"icon\"\n      aria-hidden=\"true\"\n      @click=\"$gbUtils.handleToPage('/myTask')\"\n    >\n      <use xlink:href=\"#wode\"></use>\n    </svg>\n  </div>\n</template>\n\n<script>\nimport { handleList } from '@/services/task'\nimport TaskItem from './components/TaskItem.vue'\nimport TaskPop from './components/TaskPop.vue'\nexport default {\n  name: 'Task',\n  data () {\n    return {\n      taskList: [],\n      uploadShow: false,\n      tempId: '',\n      tempIndex: null\n    }\n  },\n  methods: {\n    async getList () {\n      const resp = await handleList({\n        orderByColumn: 'id',\n        isAsc: 'desc'\n      })\n      if (!resp.success) return\n      this.taskList = resp.rows\n    },\n    handleShowUpload (temp) {\n      if (temp) {\n        this.tempId = temp.id\n      }\n      this.uploadShow = !this.uploadShow\n      console.log('this.uploadShow', this.uploadShow)\n    },\n    handleUploadSuccess () {\n      this.$refs[`item${this.tempId}`][0].taskInfo.submitQuantity += 1\n      this.uploadShow = false\n    },\n    async handleReject (index) {\n      this.tempIndex = index\n      this.rejectShow = true\n    }\n  },\n  mounted () {\n    this.getList()\n  },\n  components: { TaskItem, TaskPop }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.task-wrap {\n  padding: 15px;\n  color: #fff;\n}\n.reason {\n  margin-top: 30px;\n  margin-bottom: 20px;\n}\n.icon {\n  position: fixed;\n  width: 40px;\n  height: 40px;\n  right: 20px;\n  bottom: 50px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Task.vue?vue&type=template&id=7ca0b992&scoped=true&\"\nimport script from \"./Task.vue?vue&type=script&lang=js&\"\nexport * from \"./Task.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Task.vue?vue&type=style&index=0&id=7ca0b992&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ca0b992\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}