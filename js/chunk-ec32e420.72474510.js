(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec32e420"],{"3c80":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"release-wrap"},[n("div",{staticClass:"notice",staticStyle:{padding:"8px 8px 0 0"}},[t._v(" "+t._s(t.$t("admin.need"))+" ")]),n("div",{staticClass:"title-wrap"},[n("van-field",{attrs:{translate:"no",rows:"6",type:"textarea",maxlength:"500",placeholder:"","show-word-limit":""},model:{value:t.dataForm.content,callback:function(e){t.$set(t.dataForm,"content",e)},expression:"dataForm.content"}})],1),n("div",{staticClass:"notice"},[t._v(t._s(t.$t("admin.noNeed")))]),n("div",{staticClass:"set-image"},[n("van-uploader",{staticStyle:{width:"100%"},attrs:{"after-read":t.afterRead},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}},[n("div",{staticClass:"upload"},[n("van-icon",{staticClass:"icon",attrs:{name:"plus",size:"25"}}),n("div",{staticClass:"add"},[t._v(t._s(t.$t("admin.addImg")))])],1)])],1),n("div",{staticClass:"icon-group"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.dataForm.isImportant,expression:"!dataForm.isImportant"}],staticClass:"icon-normal",on:{click:t.handleIsImportant}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.dataForm.isImportant,expression:"dataForm.isImportant"}],staticClass:"icon-select",on:{click:t.handleIsImportant}},[n("div",{staticClass:"dot"})]),n("span",[t._v(t._s(t.$t("admin.important")))])]),n("div",{staticClass:"button",on:{click:t.handleAddNews}},[t._v(t._s(t.$t("admin.release")))])])},r=[],i=n("5530"),s=n("1da1"),o=(n("96cf"),n("f645")),c=n("8e8c"),u=n("a261"),d={name:"",data:function(){return{title:"",fileList:[],dataForm:{content:"",type:0,preview:"",isImportant:0}}},methods:{handleIsImportant:function(){this.dataForm.isImportant=0===this.dataForm.isImportant?1:0},afterRead:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.fileList=[],a=new FormData,a.append("file",t.file),n.next=5,Object(u["a"])(a);case 5:if(r=n.sent,r.success){n.next=9;break}return e.fileList=[],n.abrupt("return");case 9:e.fileList.push(t),e.dataForm.preview=o["a"].imgUrl+r.data.url;case 11:case"end":return n.stop()}}),n)})))()},handleAddNews:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dataForm.content){e.next=2;break}return e.abrupt("return",t.$toast(t.$t("common.fill")));case 2:if(!t.$route.query.id){e.next=8;break}return e.next=5,Object(c["d"])(t.dataForm);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,Object(c["a"])(t.dataForm);case 10:n=e.sent;case 11:if(n.success){e.next=13;break}return e.abrupt("return");case 13:t.$gbUtils.handleToPage("/mediaAdmin");case 14:case"end":return e.stop()}}),e)})))()},getDetail:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(c["f"])(t);case 2:if(a=n.sent,a.success){n.next=5;break}return n.abrupt("return");case 5:e.dataForm=Object(i["a"])({},a.data),e.fileList.push({url:e.dataForm.preview});case 7:case"end":return n.stop()}}),n)})))()}},computed:{},mounted:function(){this.$route.query.id&&this.getDetail(this.$route.query.id)}},l=d,m=(n("bd74"),n("2877")),f=Object(m["a"])(l,a,r,!1,null,"671d6b78",null);e["default"]=f.exports},"8e8c":function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return d}));var a=n("b775"),r=function(t){return Object(a["a"])("GET","/dapp/information/getInformationAdminIndex",t,!0,!0,1)},i=function(t){return Object(a["a"])("GET","/dapp/information/adminList",t)},s=function(t){return Object(a["a"])("GET","/dapp/information/list",t,!0,!0)},o=function(t){return Object(a["a"])("POST","/dapp/information",t)},c=function(t){return Object(a["a"])("GET","/dapp/information/".concat(t),t,!0,!0)},u=function(t){return Object(a["a"])("PUT","/dapp/information",t)},d=function(t){return Object(a["a"])("DELETE","/dapp/information/".concat(t))}},a261:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("b775"),r=function(t){return Object(a["a"])("POST","/dapp/oss/upload",t,!0,!0)}},bd74:function(t,e,n){"use strict";n("d33f")},d33f:function(t,e,n){}}]);
//# sourceMappingURL=chunk-ec32e420.72474510.js.map