(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fb8f8a4"],{1613:function(t,a,e){"use strict";e("65da")},3813:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("VanPopup",{staticStyle:{"box-sizing":"border-box",width:"93%","max-width":"400px","background-color":"#1d1d1d",padding:"20px 30px","box-shadow":"0px 2px 4px 0px rgba(0, 0, 0, 1)","border-radius":"4px"},attrs:{round:""},on:{"click-overlay":t.closePop},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[e("div",{staticClass:"upload-wrap"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("admin.finishTask")))]),e("div",{attrs:{id:"image-info"}},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.taskImg")))]),e("div",{staticClass:"set-image"},[e("van-uploader",{attrs:{"after-read":t.afterRead,"max-size":10485760},on:{oversize:t.onOversize},model:{value:t.fileList,callback:function(a){t.fileList=a},expression:"fileList"}},[e("div",{staticClass:"upload"},[e("van-icon",{attrs:{name:"plus",size:"25"}})],1)])],1)]),e("div",{attrs:{id:"text-info"}},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.taskFinishDes")))]),e("van-field",{staticClass:"textarea",attrs:{translate:"no",placeholder:t.$t("common.inputContent"),maxlength:"200",rows:"4",type:"textarea"},model:{value:t.content,callback:function(a){t.content=a},expression:"content"}})],1),e("div",{staticClass:"button",on:{click:t.handleConfirm}},[t._v(" "+t._s(t.$t("common.confirm"))+" ")])])])},s=[],i=e("1da1"),r=(e("96cf"),e("f645")),o=e("cb78"),c=e("a261"),u={name:"informationDetail",props:["taskId"],data:function(){return{show:!0,fileList:[],content:"",images:""}},methods:{closePop:function(){this.$emit("close")},onOversize:function(t){console.log(t),this.$toast(this.$t("common.10m"))},afterRead:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("file",t.file),e.next=4,Object(c["a"])(n);case 4:if(s=e.sent,s.success){e.next=8;break}return a.fileList=[],e.abrupt("return");case 8:a.images=r["a"].imgUrl+s.data.url;case 9:case"end":return e.stop()}}),e)})))()},handleConfirm:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.images&&t.content){a.next=2;break}return a.abrupt("return",t.$toast(t.$t("common.fill")));case 2:return a.next=4,Object(o["i"])({taskId:t.taskId,content:t.content,images:t.images});case 4:if(e=a.sent,console.log("resp",e),e.success){a.next=8;break}return a.abrupt("return");case 8:t.$toast("success"),t.$emit("success"),t.$parent.getList();case 11:case"end":return a.stop()}}),a)})))()}},mounted:function(){console.log(this.taskId)}},d=u,l=(e("1613"),e("2877")),m=Object(l["a"])(d,n,s,!1,null,"69537f70",null);a["a"]=m.exports},"65da":function(t,a,e){},"78f4":function(t,a,e){},9959:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"task-item-wrap",on:{click:t.handleExpand}},[e("div",{attrs:{id:"header"}},[e("div",{staticClass:"name"},[t._v(t._s(t.dataSource.title))]),e("div",{staticClass:"info"},[e("div",{staticClass:"avatar",attrs:{translate:"no"}},[e("img",{attrs:{src:t.dataSource.logo||t.defaultImg,alt:""}})]),e("div",{staticClass:"name",attrs:{translate:"no"}},[t._v(t._s(t.dataSource.author))])])]),t.isExpand?e("div",[e("div",{attrs:{id:"task-info"}},[e("div",{staticClass:"info-wrap"},[e("div",{staticClass:"item"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.reward")))]),e("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(" "+t._s(t.$gbUtils.formatBalance(t.dataSource.award))+t._s(t.tokenName)+" ")])]),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#a-starbeifen2"}})]),e("div",{staticClass:"item item1"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.schedule")))]),e("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(" "+t._s(t.dataSource.completionsTimes)+"/"+t._s(t.dataSource.times)+" ")])]),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#a-starbeifen2"}})]),e("div",{staticClass:"item"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.validTime")))]),e("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(" "+t._s(t.getTime(t.validTime))+t._s(t.getUnit(t.validTime))+" ")])])]),e("div",{staticClass:"info-wrap"},[e("div",{staticClass:"item"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("common.submit")))]),e("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(" "+t._s(t.taskInfo.submitQuantity||0)+" ")])]),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#a-starbeifen2"}})]),e("div",{staticClass:"item item1"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.review")))]),e("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(" "+t._s(t.taskInfo.checkQuantity||0)+" ")])]),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#a-starbeifen2"}})]),e("div",{staticClass:"item"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.pass")))]),e("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(" "+t._s(t.dataSource.completionsTimes||0)+" ")])])])]),e("div",{attrs:{id:"task-detail"}},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("admin.detail"))+"ï¼š")]),e("div",{staticClass:"des"},[t._v(" "+t._s(t.dataSource.content)+" "),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(a){return a.stopPropagation(),t.handleCopy(t.dataSource.content)}}},[e("use",{attrs:{"xlink:href":"#fuzhi"}})])])]),e("div",{attrs:{id:"button-group"}},[0===t.type?[[e("VanButton",{staticClass:"btn",attrs:{color:"#f8bb5a"},on:{click:function(a){return a.stopPropagation(),t.handleOpenLink.apply(null,arguments)}}},[t._v(" "+t._s(t.dataSource.buttonName)+" ")]),e("VanButton",{staticClass:"btn upload",attrs:{color:"#00c873",disabled:t.myInfo.type>1},on:{click:function(a){return a.stopPropagation(),t.handleShowUpload.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("admin.finishTask"))+" ")])]]:[e("VanButton",{staticClass:"btn",attrs:{color:"#f8bb5a",translate:"no"},on:{click:function(a){return a.stopPropagation(),t.handleOpenLink.apply(null,arguments)}}},[t._v(" "+t._s(t.dataSource.buttonName)+" ")]),1===t.dataSource.userStatus?e("VanButton",{staticClass:"btn reject",attrs:{color:"#00c873"}},[t._v(" "+t._s(t.$t("admin.passed"))+" ")]):t._e(),2===t.dataSource.userStatus?e("VanButton",{staticClass:"btn reject",attrs:{color:"#7e6e53"},on:{click:function(a){return a.stopPropagation(),t.handleShowReject.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("admin.reviewFail"))+" ")]):t._e(),-1===t.dataSource.userStatus?[e("VanButton",{staticClass:"btn",attrs:{color:"#f8bb5a"},on:{click:function(a){return a.stopPropagation(),t.handleOpenLink.apply(null,arguments)}}},[t._v(" "+t._s(t.dataSource.buttonName)+" ")]),-1===t.dataSource.userStatus?e("VanButton",{staticClass:"btn upload",attrs:{color:"#00c873",disabled:t.myInfo.type>1},on:{click:function(a){return a.stopPropagation(),t.handleShowUpload.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("admin.finishTask"))+" ")]):t._e()]:0===t.dataSource.userStatus?e("VanButton",{staticClass:"btn ing",attrs:{color:"#7e6e53",disabled:""}},[e("div",{attrs:{translate:"no"}},[e("van-count-down",{attrs:{time:1e3*t.auditTime}})],1),e("div",[t._v(t._s(t.$t("admin.reviewing")))])]):t._e()]],2)]):e("div",{staticClass:"no-expand"},[e("div",{staticClass:"reward"},[t._v(" "+t._s(t.$t("admin.reward"))),e("span",{attrs:{translate:"no"}},[t._v(t._s(t.$gbUtils.formatBalance(t.dataSource.award))+t._s(t.tokenName))])]),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#a-starbeifen2"}})]),e("div",{staticClass:"reward"},[t._v(" "+t._s(t.$t("admin.schedule"))),e("span",{attrs:{translate:"no"}},[t._v(t._s(t.dataSource.completionsTimes)+"/"+t._s(t.dataSource.times))])])])])},s=[],i=e("1da1"),r=e("5530"),o=(e("b680"),e("ac1f"),e("5319"),e("4d63"),e("c607"),e("2c3e"),e("25f0"),e("96cf"),e("2f62")),c=e("cb78"),u={name:"TaskItem",props:["dataSource","index","type"],data:function(){return{tokenName:"",validTime:null,auditTime:null,isExpand:!1,taskInfo:{},defaultImg:e("cf05")}},computed:Object(r["a"])({},Object(o["c"])(["myInfo"])),methods:{handleExpand:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.isExpand=!t.isExpand,!t.isExpand){a.next=9;break}return e=0===t.type?t.dataSource.id:t.dataSource.taskId,a.next=5,Object(c["h"])(e);case 5:if(n=a.sent,n.success){a.next=8;break}return a.abrupt("return");case 8:t.taskInfo=n.data;case 9:case"end":return a.stop()}}),a)})))()},handleOpenLink:function(){window.open(this.dataSource.url,"_blank")},handleShowUpload:function(){this.myInfo.type>1||this.$emit("show",this.dataSource)},handleShowReject:function(){this.$emit("reject",this.index)},getTime:function(t){return+t>=86400?(+t/86400).toFixed(0):+t>=3600?(+t/3600).toFixed(0):+t>=60?(+t/60).toFixed(0):void 0},getUnit:function(t){return+t>=86400?this.$t("common.day"):+t>=3600?this.$t("common.hour"):+t>=60?this.$t("common.min"):this.$t("common.second")},handleCopy:function(t){var a=document.createElement("textarea");a.value=t,document.body.appendChild(a),a.select(),document.execCommand("copy")&&(document.execCommand("copy"),this.$toast("copied")),document.body.removeChild(a)}},mounted:function(){this.tokenName=JSON.parse(localStorage.getItem("tokenList"))[this.dataSource.tokenType];var t=this.dataSource.expirationTime.replace(new RegExp("-","gm"),"/");if(this.validTime=(new Date(t).getTime()-(new Date).getTime())/1e3,0===this.dataSource.userStatus){var a=this.dataSource.auditExpirationTime.replace(new RegExp("-","gm"),"/");this.auditTime=(new Date(a).getTime()-(new Date).getTime())/1e3}}},d=u,l=(e("9ea9"),e("2877")),m=Object(l["a"])(d,n,s,!1,null,"7dae587c",null);a["a"]=m.exports},"9ea9":function(t,a,e){"use strict";e("78f4")},a261:function(t,a,e){"use strict";e.d(a,"a",(function(){return s}));var n=e("b775"),s=function(t){return Object(n["a"])("POST","/dapp/oss/upload",t,!0,!0)}},b680:function(t,a,e){"use strict";var n=e("23e7"),s=e("da84"),i=e("e330"),r=e("5926"),o=e("408a"),c=e("1148"),u=e("d039"),d=s.RangeError,l=s.String,m=Math.floor,p=i(c),f=i("".slice),v=i(1..toFixed),h=function(t,a,e){return 0===a?e:a%2===1?h(t,a-1,e*t):h(t*t,a/2,e)},b=function(t){var a=0,e=t;while(e>=4096)a+=12,e/=4096;while(e>=2)a+=1,e/=2;return a},_=function(t,a,e){var n=-1,s=e;while(++n<6)s+=a*t[n],t[n]=s%1e7,s=m(s/1e7)},g=function(t,a){var e=6,n=0;while(--e>=0)n+=t[e],t[e]=m(n/a),n=n%a*1e7},k=function(t){var a=6,e="";while(--a>=0)if(""!==e||0===a||0!==t[a]){var n=l(t[a]);e=""===e?n:e+p("0",7-n.length)+n}return e},x=u((function(){return"0.000"!==v(8e-5,3)||"1"!==v(.9,0)||"1.25"!==v(1.255,2)||"1000000000000000128"!==v(0xde0b6b3a7640080,0)}))||!u((function(){v({})}));n({target:"Number",proto:!0,forced:x},{toFixed:function(t){var a,e,n,s,i=o(this),c=r(t),u=[0,0,0,0,0,0],m="",v="0";if(c<0||c>20)throw d("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return l(i);if(i<0&&(m="-",i=-i),i>1e-21)if(a=b(i*h(2,69,1))-69,e=a<0?i*h(2,-a,1):i/h(2,a,1),e*=4503599627370496,a=52-a,a>0){_(u,0,e),n=c;while(n>=7)_(u,1e7,0),n-=7;_(u,h(10,n,1),0),n=a-1;while(n>=23)g(u,1<<23),n-=23;g(u,1<<n),_(u,1,1),g(u,2),v=k(u)}else _(u,0,e),_(u,1<<-a,0),v=k(u)+p("0",c);return c>0?(s=v.length,v=m+(s<=c?"0."+p("0",c-s)+v:f(v,0,s-c)+"."+f(v,s-c))):v=m+v,v}})},cb78:function(t,a,e){"use strict";e.d(a,"c",(function(){return s})),e.d(a,"b",(function(){return i})),e.d(a,"e",(function(){return r})),e.d(a,"f",(function(){return o})),e.d(a,"h",(function(){return c})),e.d(a,"a",(function(){return u})),e.d(a,"g",(function(){return d})),e.d(a,"i",(function(){return l})),e.d(a,"d",(function(){return m}));var n=e("b775"),s=function(t){return Object(n["a"])("GET","/dapp/task/getTaskAdminIndex",t,!0,!0)},i=function(t){return Object(n["a"])("GET","/dapp/task/adminList",t)},r=function(t){return Object(n["a"])("GET","/dapp/task/list",t,!0,!0)},o=function(t){return Object(n["a"])("GET","/dapp/taskLog/list",t,!0,!0)},c=function(t){return Object(n["a"])("GET","/dapp/task/".concat(t),!0,!0,1)},u=function(t){return Object(n["a"])("POST","/dapp/task",t)},d=function(t){return Object(n["a"])("GET","/dapp/taskLog/pendingReview",t,!0,!0)},l=function(t){return Object(n["a"])("POST","/dapp/taskLog",t,!0,!0)},m=function(t){return Object(n["a"])("POST","/dapp/taskLog/audit",t,!0,!0)}},cf05:function(t,a,e){t.exports=e.p+"img/logo.094ab691.png"}}]);
//# sourceMappingURL=chunk-6fb8f8a4.72474510.js.map