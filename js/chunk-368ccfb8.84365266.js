(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-368ccfb8"],{"1b58":function(e,t,a){"use strict";a("d636")},"924e":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("DaoRule"),a("div",{staticClass:"info-box"},[a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[e._v(" "+e._s(e.createDao.logo)+" "),a("span",{staticClass:"fu-title important"},[e._v("(100*100)")])]),a("VanUploader",{staticClass:"logo-box",attrs:{multiple:"",accept:"image/jpg, image/jpeg, image/png","max-count":1,"after-read":e.handleUpLogo},model:{value:e.imageList,callback:function(t){e.imageList=t},expression:"imageList"}},[a("div",{staticClass:"upload-icon"},[e._v("+")])]),e._e()],1),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[e._v(" "+e._s(e.createDao.daoName)+" "),a("span",{staticClass:"fu-title"},[e._v(" ("+e._s(e.createDao.cn)+")")])]),a("VanField",{staticClass:"input-box",attrs:{"input-align":"center",placeholder:e.createDao.pleaseInput,maxlength:"40"},model:{value:e.params.nameCn,callback:function(t){e.$set(e.params,"nameCn",t)},expression:"params.nameCn"}})],1),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[e._v(" "+e._s(e.createDao.daoName)+" "),a("span",{staticClass:"fu-title"},[e._v(" ("+e._s(e.createDao.en)+")")])]),a("VanField",{staticClass:"input-box",attrs:{"input-align":"center",placeholder:e.createDao.pleaseInput,maxlength:"40"},model:{value:e.params.nameEn,callback:function(t){e.$set(e.params,"nameEn",t)},expression:"params.nameEn"}})],1),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[e._v(" "+e._s(e.createDao.desc)+" "),a("span",{staticClass:"fu-title"},[e._v(" ("+e._s(e.createDao.cn)+")")])]),a("VanField",{staticClass:"textarea-box",attrs:{type:"textarea",cols:"10",rows:"5",maxlength:"100","show-word-limit":"",placeholder:e.createDao.pleaseInput},model:{value:e.params.descCn,callback:function(t){e.$set(e.params,"descCn",t)},expression:"params.descCn"}})],1),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[e._v(" "+e._s(e.createDao.desc)+" "),a("span",{staticClass:"fu-title"},[e._v(" ("+e._s(e.createDao.en)+")")])]),a("VanField",{staticClass:"textarea-box",attrs:{type:"textarea",cols:"10",rows:"5",maxlength:"200","show-word-limit":"",placeholder:e.createDao.pleaseInput},model:{value:e.params.descEn,callback:function(t){e.$set(e.params,"descEn",t)},expression:"params.descEn"}})],1),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[e._v(" "+e._s(e.createDao.webSite)+" "),a("span",{staticClass:"fu-title"},[e._v(" ("+e._s(e.common.optional)+")")])]),a("VanField",{staticClass:"input-box",attrs:{"input-align":"center",placeholder:e.createDao.pleaseInput,maxlength:"200"},model:{value:e.params.webSite,callback:function(t){e.$set(e.params,"webSite",t)},expression:"params.webSite"}})],1),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[e._v(" "+e._s(e.createDao.Twitter)+" "),a("span",{staticClass:"fu-title"},[e._v(" ("+e._s(e.common.optional)+")")])]),a("VanField",{staticClass:"input-box",attrs:{"input-align":"center",placeholder:e.createDao.pleaseInput,maxlength:"200"},model:{value:e.params.Twitter,callback:function(t){e.$set(e.params,"Twitter",t)},expression:"params.Twitter"}})],1),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[e._v(" "+e._s(e.createDao.Telegram)+" "),a("span",{staticClass:"fu-title"},[e._v(" ("+e._s(e.common.optional)+")")])]),a("VanField",{staticClass:"input-box",attrs:{"input-align":"center",placeholder:e.createDao.pleaseInput,maxlength:"200"},model:{value:e.params.Telegram,callback:function(t){e.$set(e.params,"Telegram",t)},expression:"params.Telegram"}})],1),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[e._v(" "+e._s(e.createDao.Discord)+" "),a("span",{staticClass:"fu-title"},[e._v(" ("+e._s(e.common.optional)+")")])]),a("VanField",{staticClass:"input-box",attrs:{"input-align":"center",placeholder:e.createDao.pleaseInput,maxlength:"200"},model:{value:e.params.Discord,callback:function(t){e.$set(e.params,"Discord",t)},expression:"params.Discord"}})],1),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[e._v(" "+e._s(e.createDao.tokenAddress)+" "),a("span",{staticClass:"fu-title"},[e._v("(BEP20)")])]),a("VanField",{staticClass:"input-box input-address",attrs:{"input-align":"center",placeholder:e.createDao.pleaseInput},model:{value:e.tokenAddress,callback:function(t){e.tokenAddress=t},expression:"tokenAddress"}}),e.isExit?a("div",{staticClass:"tips"},[e._v(e._s(e.createDao.daoExit))]):e._e()],1)]),a("div",{staticClass:"token-info"},[a("div",[e._v(" "+e._s(e.createDao.tokenName)+": "),e.loadingTokenName?a("VanLoading",{attrs:{size:"14",color:"#00D093"}}):a("span",{staticClass:"token-green"},[e._v(e._s(e.tokenName))])],1),a("div",[e._v(" "+e._s(e.createDao.totalSupply)+": "),e.loadingSupply?a("VanLoading",{attrs:{size:"14",color:"#00D093"}}):a("span",{staticClass:"token-green"},[e._v(e._s(e.$gbUtils.formatNumber(e.totalSupply)))])],1)]),a("div",{staticClass:"lp-info"},[a("div",{staticClass:"key"},[e._v(e._s(e.createDao.isSupportedLp))]),a("div",{staticClass:"btn-groups"},[a("VanButton",{staticClass:"btn",class:{active:e.isSupportLp},on:{click:function(t){return e.handleChange(!0)}}},[e._v(" "+e._s(e.createDao.supported)+" ")]),a("VanButton",{staticClass:"btn",class:{active:!e.isSupportLp},on:{click:function(t){return e.handleChange(!1)}}},[e._v(" "+e._s(e.createDao.notSupported)+" ")])],1),e.isSupportLp?a("div",{staticClass:"key-valye"},[a("div",{staticClass:"key"},[e._v(" "+e._s(e.createDao.pleaseInput+e.createDao.lpAddress)+" "),a("span",{staticClass:"fu-title"},[e._v("(BEP20)")])]),a("VanField",{staticClass:"input-box lp-address",attrs:{"input-align":"center",placeholder:e.createDao.pleaseInput,maxlength:"200"},model:{value:e.lpAddress,callback:function(t){e.lpAddress=t},expression:"lpAddress"}})],1):e._e()]),a("div",{staticClass:"token-info"},[a("div",[e._v(" "+e._s(e.createDao.needNum)+": "),e.loadingSupply?a("VanLoading",{attrs:{size:"14",color:"#00D093"}}):a("span",{staticClass:"token-green"},[e._v(e._s(e.$gbUtils.formatNumber(e.totalSupply*e.point)))])],1),a("div",[e._v(" "+e._s(e.createDao.balance)+": "),e.loadingBalance?a("VanLoading",{attrs:{size:"14",color:"#00D093"}}):a("span",{staticClass:"token-green"},[e._v(e._s(e.$gbUtils.formatNumber(e.tokenBalance)))])],1)]),a("div",{staticClass:"_flex"},[a("VanButton",{staticClass:"create-btn",attrs:{loading:e.loadingApprove,disabled:!e.isTokenAddress||!e.tokenAddress||e.isExit||e.tokenAuth},on:{click:e.approveToken}},[e._v(" "+e._s(e.common.Apporve)+" ")]),a("VanButton",{staticClass:"create-btn",attrs:{loading:e.loadingAdd,disabled:!e.tokenAuth||!e.params.logo||!e.params.nameCn||!e.params.nameEn||!e.params.descCn||!e.params.descEn||!e.tokenAddress||!e.isTokenAddress||e.isExit},on:{click:e.handleAdd}},[e._v(" "+e._s(e.createDao.createDao)+" ")])],1)],1)},n=[],r=a("1da1"),i=a("5530"),o=(a("ac1f"),a("5319"),a("07ac"),a("96cf"),a("fcfc")),c=a("1f5d"),l=a("5bbb4"),u=a("f645"),p=a("2f62"),d=a("0e5c"),m={name:"",components:{DaoRule:l["a"]},data:function(){return{point:.01,imageList:[],params:{logo:"",nameCn:"",nameEn:"",descCn:"",descEn:"",Twitter:"",Telegram:"",Discord:"",webSite:""},tokenAddress:"",isSupportLp:!0,lpAddress:"",tokenName:"-",loadingTokenName:!1,totalSupply:0,loadingSupply:!1,tokenAuth:!1,tokenBalance:0,loadingBalance:!1,loadingApprove:!1,loadingAdd:!1,isExit:!1,isTokenAddress:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(p["c"])(["myAccount"])),{},{rule:function(){return this.$t("createDao.rule",{point:100*this.point})},createDao:function(){return this.$t("createDao")},common:function(){return this.$t("common")}}),watch:{tokenAddress:function(e){this.getTokenInfo(e)}},methods:{onOversize:function(e){this.$toast(this.createDao.logoSize)},handleUpLogo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["a"])(e.file);case 2:if(s=a.sent,s.success){a.next=6;break}return t.uploadFile=[],a.abrupt("return");case 6:t.params.logo=s.result;case 7:case"end":return a.stop()}}),a)})))()},handleChange:function(e){this.isSupportLp=e},getTokenInfo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=13;break}if(e=e.replace(/\s/g,""),t.isTokenAddress=t.$web3.isAddress(e),t.isTokenAddress){a.next=5;break}return a.abrupt("return");case 5:return t.getDaoExit(),t.getTokenName(),t.getUserBalance(),a.next=10,t.getTokenSupply();case 10:t.getTokenAllance(),a.next=18;break;case 13:t.tokenName="-",t.totalSupply=0,t.tokenBalance=0,t.tokenAuth=!1,t.isExit=!1;case 18:case"end":return a.stop()}}),a)})))()},getDaoExit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].daoExist(e.tokenAddress);case 2:if(a=t.sent,a.success){t.next=5;break}return t.abrupt("return");case 5:e.isExit=a.result;case 6:case"end":return t.stop()}}),t)})))()},getTokenName:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingTokenName=!0,t.next=3,c["a"].getSymbol(e.tokenAddress);case 3:if(a=t.sent,e.loadingTokenName=!1,a.success){t.next=7;break}return t.abrupt("return");case 7:e.tokenName=a.result;case 8:case"end":return t.stop()}}),t)})))()},getTokenSupply:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingSupply=!0,t.next=3,c["a"].totalSupply(e.tokenAddress);case 3:if(a=t.sent,e.loadingSupply=!1,a.success){t.next=7;break}return t.abrupt("return");case 7:e.totalSupply=a.result;case 8:case"end":return t.stop()}}),t)})))()},getTokenAllance:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].allowance(e.tokenAddress,u["a"].daoAddress);case 2:if(a=t.sent,a.success){t.next=5;break}return t.abrupt("return");case 5:s=a.result,e.tokenAuth=s>=e.totalSupply*e.point;case 7:case"end":return t.stop()}}),t)})))()},getUserBalance:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingBalance=!0,t.next=3,e.$web3.balanceOf(e.tokenAddress);case 3:if(a=t.sent,console.log(a),e.loadingBalance=!1,a.success){t.next=8;break}return t.abrupt("return");case 8:e.tokenBalance=e.$gbUtils.formatBalance(a.result);case 9:case"end":return t.stop()}}),t)})))()},approveToken:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingApprove=!0,t.next=3,c["a"].approve(e.tokenAddress,u["a"].daoAddress);case 3:if(a=t.sent,e.loadingApprove=!1,a.success){t.next=7;break}return t.abrupt("return");case 7:e.tokenAuth=!0;case 8:case"end":return t.stop()}}),t)})))()},handleAdd:function(){if(this.isSupportLp&&!this.lpAddress)return this.$toast(this.createDao.pleaseInput+"lpAddress");if(this.isSupportLp&&!this.$web3.isAddress(this.lpAddress))return this.$toast("error lpAddress");if(parseFloat(this.tokenBalance)<this.totalSupply*this.point)return this.$toast(this.common.notBalance);var e=Object.values(this.params),t=this.tokenAddress,a=this.isSupportLp?this.lpAddress:"0x0000000000000000000000000000000000000000";this.addDao(e,t,a)},addDao:function(e,t,a){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,s.$web3.connectWallet();case 2:return s.loadingAdd=!0,n.next=5,o["a"].createDao(e,t,a);case 5:if(r=n.sent,s.loadingAdd=!1,r.success){n.next=9;break}return n.abrupt("return",s.$toast("fail"));case 9:s.$router.replace("/dao");case 10:case"end":return n.stop()}}),n)})))()}},mounted:function(){}},v=m,k=(a("1b58"),a("f0b4"),a("2877")),g=Object(k["a"])(v,s,n,!1,null,"fbb7e942",null);t["default"]=g.exports},"96d8":function(e,t,a){},d636:function(e,t,a){},f0b4:function(e,t,a){"use strict";a("96d8")}}]);
//# sourceMappingURL=chunk-368ccfb8.84365266.js.map