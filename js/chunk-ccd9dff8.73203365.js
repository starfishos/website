(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ccd9dff8"],{"03b7":function(t,e,a){},"0dce":function(t,e,a){},2909:function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function s(t){if(Array.isArray(t))return n(t)}a.d(e,"a",(function(){return c}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}a("fb6a"),a("b0c0"),a("ac1f"),a("00b4");function o(t,e){if(t){if("string"===typeof t)return n(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(t,e):void 0}}a("d9e2");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return s(t)||r(t)||o(t)||i()}},"40e8":function(t,e,a){},4121:function(t,e,a){},"4df4":function(t,e,a){"use strict";var n=a("da84"),s=a("0366"),r=a("c65b"),o=a("7b0b"),i=a("9bdd"),c=a("e95a"),u=a("68ee"),l=a("07fa"),d=a("8418"),m=a("9a1f"),p=a("35a1"),h=n.Array;t.exports=function(t){var e=o(t),a=u(this),n=arguments.length,f=n>1?arguments[1]:void 0,v=void 0!==f;v&&(f=s(f,n>2?arguments[2]:void 0));var g,b,y,w,L,A,k=p(e),S=0;if(!k||this==h&&c(k))for(g=l(e),b=a?new this(g):h(g);g>S;S++)A=v?f(e[S],S):e[S],d(b,S,A);else for(w=m(e,k),L=w.next,b=a?new this:[];!(y=r(L,w)).done;S++)A=v?i(w,f,[y.value,S],!0):y.value,d(b,S,A);return b.length=S,b}},5114:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAoCAYAAACFFRgXAAAAAXNSR0IArs4c6QAABT5JREFUWEftmW9sU2UUxs/7pxliNJqQoZiQqIRoIGp0KDHC/sBYx9ToJiAwHdtCkCgBh8zJJFmkMzGBb3xi04QYFz9oskVFmbquC/soUQwQzQwoGBQTNcbgynrOMe/tve1te9t7Z9vFD/RTm/Ztf/e5z3ne854KmJMHi5aW088qwhc0469Dwys2+v3sgdWfbWHBhxnkVeBEe/9E04RZI/wWFvv+ExvOLJaMxxRhjSYCzXxlaKRqYaHvfb3m005gOMoA0gb8NhJrvK/swI2bzq6UTMOKcKEFawHjlaGRh/MC76890SGJBgBAsn1VAqD8wHVbpxpDiWsfKMb5KVgf4H21JzpCwAOS2II16jJAPKTk+r6xhrGyKVzd+v1mhXRME4U0G2UxqS4RhJivvOdhib1rom0SZt7RyFIxGVDziAsJzZFo43HHQiX38KrWH3YKoCMaUdoWSMHms8TemugC1nRJEVWYi1PMwELEWUDLm9HwJ26/lxR4ZduFXkl0UFNCJOFs31rq2ip7eHhX4+TdemZ6KnkXEKRRFsQzkfGGj7OLs0TALKo6Lh6SCexKQzqAbksgaAbPlOiqHxtUmOgMEf8JgluzlS2dJTawuv/mnwc14TZlPEoEyuXZbA8XirXu+tFF82dCv/eN107ni72iFF6yiyvmTV9+XyE9pTmpqIF2F1mu4v45XCijM4G7eSVIeAkYKjWgUMgQYkwqhmwyNOlLtP2JeIdmutcqlLyezb6Awjnst1GlgfdzEyCMgABlFmXc1mR+uqrdBs9S07IEuyyRFWlBNo7gwD18DgDucRYU9KEDmkoB2w5Zr9NJ4Z/DfqC5RdfDaLZD6w1mKwtDObfa+WG3wvYtt5RNPk8WXmor9s3hoLCZO10PO1u3DezKUK9ba3ztyllzRyxQ92cD5nBJgLVROQXl9q+Xcq6EyLZFxsXmz+Gg0OmicyvsW3RpGzi7k1G72BwOAh0M2Lvas71ZdA731UT11Zm/bnCDvzX55N8CRMqu3sBsMtddOF6bQWbMFZvDXWu/7FNEPZqwQjI7rSUIEH+whO390fCH+YvO1xKlzeHda08ulhC/oAmtpsnq1tL9sIG+HImFFwUH9k2J4nJ4T8PE7QJnLmoilQRO9cOWOwSI85FY+C6fWJvbHO6qj+7QmNivGW+RlE5YEOKiEPLFg9F1ses5nFl4s+uHg0RacA/nND/XcziowK5ByquccFpL0/zMdQ4HJU5vHK/xV8DwoGd7+b/sh3v5UUAYBYAbcxr4MudwUHUzi8686uElwLAdBFSa8Lb6YXNMAgKFTp9rjk0JUGRyOnGnIqq2znBz3g/P5jKdz/axXH7plyOKcOfc98P/Bdhe80DnpYhC7C0mh830R0haVQHTp/rHmn7Mh1PUMd/9pQ91/NSlEngoxCRmO5d4Zd1kJdH0N4roNk30jwLY6DX1yfVwESqbpY+0nW/XREcVoU6PV52jlrPz5c4ldtdHWyXTu848QwHEyWOuVnJg84WPPT/1tEIeUoTzvE7NXvPhlxtOLhMY/9q5UNMPg4A4C1HeYaBzg+qem6oDxGFNeFPGFKjAfHhffXQb4Mzbmkg6/bCBFqLM41YHes3W71ZopOOKcEGQ+bBZ1133ebtmHHQG2nYzbCaZj0fGw1+UxRLuMli/6dxSwfSRosTS2f5l4Py/YZ08hDgTGQ8vLzuw+YGmptO36vlwRCFuCTqqOlB7ooOJBgy0LcDZ/ljjsjkBdhRvbj61OkSwQwH9NjRctccvkHqrRzcLoMMg+Jpk0f5GLBw1a/4FcJ6Yg7KRVMMAAAAASUVORK5CYII="},"58fd":function(t,e,a){"use strict";a("6bd2")},"5bbb4":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top"},[n("img",{staticClass:"tongzhi",attrs:{src:a("5114")}}),n("div",{staticClass:"notic-content"},["1"===t.type?n("div",{domProps:{innerHTML:t._s(t.applyRule)}}):n("div",{domProps:{innerHTML:t._s(t.rule)}})])])},s=[],r={name:"",props:["type"],data:function(){return{point:.001}},computed:{rule:function(){return this.$t("createDao.rule",{point:100*this.point})},applyRule:function(){return this.$t("my.rule",{point:100*this.point})}},methods:{},mounted:function(){}},o=r,i=(a("7904"),a("58fd"),a("2877")),c=Object(i["a"])(o,n,s,!1,null,"4e3d6265",null);e["a"]=c.exports},"67f3":function(t,e,a){"use strict";a("03b7")},"6bd2":function(t,e,a){},7904:function(t,e,a){"use strict";a("a416")},"873b":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"empty-page"},[t._m(0),t._t("default")],2)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("img",{staticClass:"img",attrs:{src:a("9d64")}})])}],r={name:"",data:function(){return{}},methods:{},mounted:function(){}},o=r,i=(a("f546"),a("2877")),c=Object(i["a"])(o,n,s,!1,null,"6a3dc824",null);e["a"]=c.exports},"9bdd":function(t,e,a){var n=a("825a"),s=a("2a62");t.exports=function(t,e,a,r){try{return r?e(n(a)[0],a[1]):e(a)}catch(o){s(t,"throw",o)}}},a416:function(t,e,a){},a434:function(t,e,a){"use strict";var n=a("23e7"),s=a("da84"),r=a("23cb"),o=a("5926"),i=a("07fa"),c=a("7b0b"),u=a("65f0"),l=a("8418"),d=a("1dde"),m=d("splice"),p=s.TypeError,h=Math.max,f=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!m},{splice:function(t,e){var a,n,s,d,m,b,y=c(this),w=i(y),L=r(t,w),A=arguments.length;if(0===A?a=n=0:1===A?(a=0,n=w-L):(a=A-2,n=f(h(o(e),0),w-L)),w+a-n>v)throw p(g);for(s=u(y,n),d=0;d<n;d++)m=L+d,m in y&&l(s,d,y[m]);if(s.length=n,a<n){for(d=L;d<w-n;d++)m=d+n,b=d+a,m in y?y[b]=y[m]:delete y[b];for(d=w;d>w-n+a;d--)delete y[d-1]}else if(a>n)for(d=w-n;d>L;d--)m=d+n-1,b=d+a-1,m in y?y[b]=y[m]:delete y[b];for(d=0;d<a;d++)y[d+L]=arguments[d+2];return y.length=w-n+a,s}})},a630:function(t,e,a){var n=a("23e7"),s=a("4df4"),r=a("1c7e"),o=!r((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:s})},aa72:function(t,e,a){"use strict";a("0dce")},ab36:function(t,e,a){var n=a("861d"),s=a("9112");t.exports=function(t,e){n(e)&&"cause"in e&&s(t,"cause",e.cause)}},ab9f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAQCAYAAAAI0W+oAAAAAXNSR0IArs4c6QAAAnRJREFUOE+l011IFFEUB/A7s3PPLLJYoUT0EAU9VD74IIEvsalsm1aWhRYVFEJgUdgHfdBDbA9BPYRZ1KJEhYUh9ilRRpkmYRiYFCbRp0hWimKpa5tzzrkxa2sprrvqPA2Xe/6/uWfO1UT42aVc4KK1ZsBR3X9e6xlZn+LLgfSaTIn8/WS9p9mO0MI5+mEqMpj3AtNbhbg8UOzqnKIhCr11xx2Ix4Ap4FSQ6KtLC/6DjqgCg9APhEIyt+AgpfWXxndPFtvprT9qKDohiYTJ3GLWNiT7hI9HIDvQPGidkkSHbAyUagaLMtr9M3tjxfJXP98vEU8DkwCij6yEu+hJRseo1oXDXPuCZ0Bhof1FoPiFqbHnw7mEvmjY1uzG3ZL4LDBqwNSmk+UufuxpD9eNOlF4MaEw4DcYC2AYazA19rZemD0QCcvLadohEUuAyUa+6EPC7a9Z9un//eNCQihtzp7+i5Iwf7iN/DROcFZT6dzBsVjOhlfbgOmSJNSB8JvUdHfJvdT3Y/dFgIQQPqXP6+otk0xbQhjzo580lN12ZUEwHLJqY8smQLwmiRzA2CUtlXb5QWrreCePDNm7c5VjYUJ3uUGYF2oj0/3BwEBOa2XS0MrN79br1u8KYDKAqMfJIr2sKuV1pPZODNlVPmUs7uislITrQtOk+I5pWVcNpuvABJLwh6m0jIpbyS8nGpjokBBiSe4bMOJn3AaiLBlqoz2+ofvWJ4lW3L2Z3BhtKmOC7JD52z87E4VeJQk9f+/JgIM4s7oy6Vk0ZNx7NFFRypqvcc5Zv24YxEudivIeli+qjQWZNBRr6OSnbjrJY2pj/kfTNf8AiNAsIEF1y1IAAAAASUVORK5CYII="},acee:function(t,e,a){},b74a:function(t,e,a){},b980:function(t,e,a){var n=a("d039"),s=a("5c6c");t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",s(1,7)),7!==t.stack)}))},c41a:function(t,e,a){"use strict";a("4121")},c770:function(t,e,a){var n=a("e330"),s=Error,r=n("".replace),o=function(t){return String(s(t).stack)}("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,c=i.test(o);t.exports=function(t,e){if(c&&"string"==typeof t&&!s.prepareStackTrace)while(e--)t=r(t,i,"");return t}},c7d6:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-wrap"},[a("MyHeader",{on:{changeTab:t.handleTabChange,changeMenu:t.handleMenuChange},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}}),0===t.currentTab&&t.voteListShow?a("div",{staticClass:"vote-list"},[t._l(t.voteList,(function(t,e){return a("VoteItem",{key:e,attrs:{dataSource:t}})})),t.voteList<=0?a("Empty"):t._e()],2):a("div",{staticClass:"dao-list"},[t._l(t.myDaoList,(function(e,n){return a("DaoItem",{key:e.daoAt,ref:"menu"+n,refInFor:!0,attrs:{dataSource:e},on:{hide:t.handleHideMenu,changeLoading:t.changeLoading}})})),t.myDaoList<=0?a("Empty"):t._e()],2)],1)},s=[],r=a("2909"),o=a("5530"),i=a("1da1"),c=(a("96cf"),a("d3b7"),a("159b"),a("b0c0"),a("a434"),a("fcfc")),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"my-header"},[a("div",{staticClass:"tab"},[a("div",{staticClass:"tab-item",class:{active:0===t.currentTab},on:{click:function(e){return t.handleChangeTab(0)}}},[t._v(" "+t._s(t.$t("my.myVote"))+" ")]),a("div",{staticClass:"tab-item",class:{active1:1===t.currentTab},on:{click:function(e){return t.handleChangeTab(1)}}},[t._v(" "+t._s(t.$t("my.daoAdmin"))+" ")])])]),a("div",{staticClass:"menu"},[0===t.currentTab?a("div",{staticClass:"status",on:{click:function(e){return e.stopPropagation(),t.handleShowMenu.apply(null,arguments)}}},[t._v(" "+t._s(t.currentMenu.text)+" "),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#xiangxiajiantou-copy"}})])]):t._e(),t.menuShow?a("div",{ref:"menu",staticClass:"wrapper"},t._l(t.menuList,(function(e){return a("div",{key:e.value,staticClass:"item",class:{active:e.value===t.currentMenu.value},on:{click:function(a){return t.handleChangeMenu(e)}}},[t._v(" "+t._s(e.text)+" ")])})),0):t._e()])])},l=[],d={name:"",props:["value"],data:function(){return{currentTab:0,menuShow:!1,menuList:[{value:0,text:this.$t("my.all")},{value:1,text:this.$t("my.ing")},{value:2,text:this.$t("my.wait")},{value:3,text:this.$t("my.end")}],currentMenu:{}}},methods:{handleChangeTab:function(t){this.currentTab=t,this.$emit("changeTab",t)},handleChangeMenu:function(t){this.currentMenu=t,this.$emit("changeMenu",t.value)},handleHideMenu:function(){this.menuShow=!1},handleShowMenu:function(){this.menuShow=!0}},mounted:function(){this.currentTab=this.value,this.currentMenu=this.menuList[0]},created:function(){document.addEventListener("click",this.handleHideMenu)},destroyed:function(){document.removeEventListener("click",this.handleHideMenu)},watch:{}},m=d,p=(a("67f3"),a("2877")),h=Object(p["a"])(m,u,l,!1,null,"acd6b5ac",null),f=h.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"proposal-wrap",on:{click:t.handleToDetail}},[a("div",{staticClass:"item-header"},[a("div",{staticClass:"dao-info"},[a("img",{attrs:{src:t.dataSource.logo,alt:""}}),a("div",{staticClass:"name"},[t._v(t._s(t.dataSource.name))]),1===t.timeStatus?a("div",{staticClass:"time"},[t._v(" "+t._s(t.$t("proposal.left"))+t._s(t.dataSource.endTime)+" ")]):t._e()]),a("div",{staticClass:"time-info"},[1===t.timeStatus?a("div",{staticClass:"status-wrap"},[a("div",{staticClass:"status"},[t._v(t._s(t.$t("proposal.voting")))])]):4===t.timeStatus?a("div",{staticClass:"status status4"},[t._v(" "+t._s(t.$t("proposal.waitVote"))+" ")]):a("div",{staticClass:"status status2"},[t._v(t._s(t.$t("proposal.ended")))])])]),a("div",{staticClass:"title"},[t._v(" "+t._s(t.dataSource.name_desc[0])+" ")]),a("div",{staticClass:"content ellipsis-3"},[t._v(" "+t._s(t.dataSource.name_desc[1])+" ")]),a("div",{staticClass:"bottom"},[a("div",{staticClass:"tag-group"},[a("div",{staticClass:"tag",class:"type"+t.type},[t._v(" "+t._s(t.list1[t.type])+" ")]),a("div",{staticClass:"tag",class:"tag"+t.tag},[t._v(" "+t._s(t.list2[t.tag])+" ")]),t.isReward?a("div",{staticClass:"tag pink-bg"},[t._v(" "+t._s(t.voteReward)+" ")]):t._e()]),a("div",{staticClass:"info"},[t._v(" "+t._s(t.$gbUtils.formatBalance(t.dataSource.totalVote/1e18))+" "),a("span",[t._v(t._s(t.$t("proposal.ticket")))])])])])},g=[],b=a("1f5d"),y=a("2f62"),w={name:"",props:["dataSource"],data:function(){return{type:0,tag:0,isReward:!1,timeStatus:0,tokenName:""}},computed:{list1:function(){return this.$t("proposal.list1")},list2:function(){return this.$t("proposal.list2")},voteReward:function(){return this.$t("proposal.voteReward")}},methods:Object(o["a"])(Object(o["a"])({},Object(y["b"])(["chanegProposalDetail"])),{},{handleToDetail:function(){this.chanegProposalDetail(this.dataSource),this.$router.push({path:"/proposalDetail?status=".concat(this.timeStatus)})},getTokenInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].getSymbol(t.dataSource.token);case 2:a=e.sent,a.success&&(t.tokenName=a.result);case 4:case"end":return e.stop()}}),e)})))()},init:function(){this.type=parseInt(this.dataSource.uintParams[0]/10)-1,this.tag=parseInt(this.dataSource.uintParams[1]/10)-1,this.isReward=this.dataSource.uintParams[2]>0,this.timeStatus=this.dataSource.timeStatus}}),mounted:function(){this.getTokenInfo(),this.init()}},L=w,A=(a("d614"),Object(p["a"])(L,v,g,!1,null,"ad7ee198",null)),k=A.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dao-item"},[n("div",{staticClass:"info-box"},[n("img",{attrs:{src:t.dataSource.params[0]||t.defaultImg,alt:""}}),n("div",{staticClass:"info"},["ZH"===t.lang?n("div",{staticClass:"name"},[t._v(" "+t._s(t.dataSource.params[1])+" ")]):n("div",{staticClass:"name"},[t._v(t._s(t.dataSource.params[2]))]),n("div",{staticClass:"member"},[t._v(" "+t._s(t.dataSource.memberCount)+t._s(t.$t("my.members"))+" ")])])]),n("div",{staticClass:"operation",on:{click:function(e){return e.stopPropagation(),t.handleShowMenu.apply(null,arguments)}}},[n("span",[t._v(" "+t._s(t.$t("my.operation")))]),n("img",{staticClass:"icon",attrs:{src:a("ab9f")}})]),t.menuShow?n("div",{ref:"menu",staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"operation",on:{click:function(e){t.menuShow=!1}}},[n("span",[t._v(" "+t._s(t.$t("my.operation")))]),n("img",{staticClass:"icon",attrs:{src:a("ab9f")}})]),t.isCouncliAt?n("div",{staticClass:"item modify-info",on:{click:function(e){return e.stopPropagation(),t.handleToModify.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("my.modifyInfo"))+" ")]):t._e(),t.isCouncliAt?n("div",{staticClass:"item remove",on:{click:function(e){return e.stopPropagation(),t.handleRemoveShow(0)}}},[t._v(" "+t._s(t.$t("my.remove"))+" ")]):n("div",{staticClass:"item apply",on:{click:function(e){return e.stopPropagation(),t.handleApplyShow.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("my.apply"))+" ")]),t.isCouncliAt?t._e():n("div",{staticClass:"item quit",on:{click:function(e){return e.stopPropagation(),t.handleRemoveShow(1)}}},[t._v(" "+t._s(t.$t("my.quit"))+" ")])]):t._e(),t.applyShow?n("ApplyCouncli",{attrs:{dataSource:t.dataSource},on:{close:t.handleApplyShow}}):t._e(),t.removeShow?n("RemoveCouncli",{attrs:{dataSource:t.dataSource,isRemove:t.isRemove},on:{close:t.handleRemoveShow}}):t._e()],1)},C=[],x=(a("e9c4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VanPopup",{staticStyle:{"box-sizing":"border-box",width:"93%","max-width":"350px",padding:"20px",background:"#060621"},attrs:{round:""},on:{"click-overlay":t.closePop},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("DaoRule",{attrs:{type:"1"}}),a("div",{staticClass:"window-wrap"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:t.dataSource.params[0]||t.defaultImg,alt:""}}),"ZH"===t.lang?a("div",{staticClass:"name"},[t._v(" "+t._s(t.dataSource.params[1])+" ")]):a("div",{staticClass:"name"},[t._v(t._s(t.dataSource.params[2]))])]),a("div",{staticClass:"contract"},[a("div",{staticClass:"name"},[t._v(t._s(t.$t("my.addressDes")))]),a("div",{staticClass:"address",attrs:{translate:"no"}},[t._v(" "+t._s(t.$gbUtils.formatAddress(t.dataSource.token,"...",10))+" ")])]),a("div",{staticClass:"content"},[a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[t._v(t._s(t.$t("my.tokenName")))]),a("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.tokenName))])]),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[t._v(t._s(t.$t("my.totalSupply")))]),a("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.totalSupply))])]),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[t._v(t._s(t.$t("my.needStake")))]),a("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(t._s(t.totalSupply/100))])]),a("div",{staticClass:"key-value"},[a("div",{staticClass:"key"},[t._v(t._s(t.$t("my.account")))]),a("div",{staticClass:"value",attrs:{translate:"no"}},[t._v(" "+t._s(t.$gbUtils.formatBalance(t.tokenBalance))+" ")])])]),a("div",{staticClass:"button-group"},[t.authToken?a("VanButton",{staticClass:"button",attrs:{loading:t.btnLoading},on:{click:t.handleApplyDao}},[t._v(t._s(t.$t("my.appBtn")))]):a("VanButton",{staticClass:"button",attrs:{loading:t.btnLoading},on:{click:t.approveToken}},[t._v(t._s(t.$t("my.auth")))])],1)])],1)}),R=[],_=a("f645"),O=a("5bbb4"),E={name:"",props:["dataSource"],data:function(){return{defaultImg:a("9d64"),show:!0,authToken:!1,btnLoading:!0,tokenName:"",totalSupply:0,tokenBalance:0}},methods:{closePop:function(){this.$emit("close")},getAllowance:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnLoading=!0,e.next=3,b["a"].allowance(t.dataSource.token,_["a"].daoAddress);case 3:a=e.sent,a.success&&(t.authToken=a.result>0),t.btnLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},approveToken:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnLoading=!0,e.next=3,b["a"].approve(t.dataSource.token,_["a"].daoAddress,1e17);case 3:if(a=e.sent,t.btnLoading=!1,a.success){e.next=7;break}return e.abrupt("return",t.$toast(a.message.message));case 7:t.authToken=!0;case 8:case"end":return e.stop()}}),e)})))()},handleApplyDao:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.btnLoading=!0,e.next=3,c["a"].councliApply(t.dataSource.daoAt);case 3:if(a=e.sent,t.btnLoading=!1,a.success){e.next=7;break}return e.abrupt("return");case 7:t.$toast("success"),t.closePop();case 9:case"end":return e.stop()}}),e)})))()},getTokenInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].getSymbol(t.dataSource.token);case 2:return a=e.sent,e.next=5,b["a"].totalSupply(t.dataSource.token);case 5:return n=e.sent,e.next=8,b["a"].balanceOf(t.dataSource.token);case 8:s=e.sent,a.success&&n.success&&s.success&&(t.tokenName=a.result,t.totalSupply=n.result,t.tokenBalance=s.result);case 10:case"end":return e.stop()}}),e)})))()}},computed:Object(o["a"])({},Object(y["c"])(["lang"])),mounted:function(){this.getAllowance(),this.getTokenInfo()},components:{DaoRule:O["a"]}},j=E,T=(a("aa72"),Object(p["a"])(j,x,R,!1,null,"e78f59aa",null)),D=T.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VanPopup",{staticStyle:{"box-sizing":"border-box",width:"279px","max-width":"350px",padding:"20px",background:"#FFFFFF33"},attrs:{round:""},on:{"click-overlay":t.closePop},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:t.dataSource.params[0],alt:""}}),0===t.isRemove?a("div",{staticClass:"name"},[t._v(t._s(t.$t("my.removeTitle")))]):a("div",{staticClass:"name"},[t._v(t._s(t.$t("my.quitTitle")))])]),0===t.isRemove?a("div",{staticClass:"des",domProps:{innerHTML:t._s(t.rule)}}):a("div",{staticClass:"des des1",domProps:{innerHTML:t._s(t.rule1)}}),a("div",{staticClass:"btn-group"},[a("VanButton",{staticClass:"button",attrs:{loading:t.btnLoading},on:{click:t.handleDao}},[t._v(t._s(t.$t("common.confirm")))])],1)])},M=[],I={name:"",props:["isRemove","dataSource"],data:function(){return{show:!0,daoName:"我的DAO",isQuit:0,btnLoading:!1,tokenName:"",totalSupply:0}},methods:{closePop:function(){this.$emit("close")},handleDao:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.btnLoading=!0,console.log("this.isQuit",t.isQuit),t.isQuit){e.next=15;break}return console.log("councliQuit"),e.next=6,c["a"].councliQuit(t.dataSource.daoAt);case 6:if(a=e.sent,t.btnLoading=!1,a.success){e.next=10;break}return e.abrupt("return");case 10:t.$toast("success"),t.$parent.$parent.reload(),t.closePop(),e.next=25;break;case 15:return console.log("Daoquit"),e.next=18,c["a"].daoQuit(t.dataSource.daoAt);case 18:if(n=e.sent,t.btnLoading=!1,n.success){e.next=22;break}return e.abrupt("return");case 22:t.$toast("success"),t.$parent.$parent.reload(),t.closePop();case 25:case"end":return e.stop()}}),e)})))()},getTokenInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].getSymbol(t.dataSource.token);case 2:return a=e.sent,e.next=5,b["a"].totalSupply(t.dataSource.token);case 5:n=e.sent,a.success&&n.success&&(t.tokenName=a.result,t.totalSupply=n.result);case 7:case"end":return e.stop()}}),e)})))()}},computed:Object(o["a"])(Object(o["a"])({},Object(y["c"])(["lang"])),{},{rule:function(){return this.$t("my.removeDao",{daoName:"ZH"===this.lang?this.dataSource.params[1]:this.dataSource.params[2],stakeNumber:this.totalSupply/100,tokenName:this.tokenName})},rule1:function(){return this.$t("my.quitDao",{daoName:"ZH"===this.lang?this.dataSource.params[1]:this.dataSource.params[2]})}}),watch:{isRemove:function(t){this.isQuit=t,console.log("this.isQuit",this.isQuit)}},mounted:function(){this.getTokenInfo(),this.isQuit=this.isRemove,console.log("this.isQuit",this.isQuit)}},P=I,H=(a("c41a"),Object(p["a"])(P,$,M,!1,null,"0609c172",null)),F=H.exports,U={name:"",props:["dataSource"],data:function(){return{defaultImg:a("9d64"),menuShow:!1,removeShow:!1,applyShow:!1,isRemove:0,isCouncliAt:!1}},methods:{handleHideMenu:function(){this.menuShow=!1},handleApplyShow:function(){this.$emit("hide"),this.applyShow=!this.applyShow},handleRemoveShow:function(t){this.$emit("hide"),this.isRemove=t,console.log("this.isRemove",this.isRemove),this.removeShow=!this.removeShow},handleShowMenu:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("hide"),e.next=3,t.getIsCouncliAt();case 3:t.menuShow=!0;case 4:case"end":return e.stop()}}),e)})))()},getIsCouncliAt:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("changeLoading",!0),e.next=3,c["a"].userCouncli(t.dataSource.daoAt);case 3:if(a=e.sent,t.$emit("changeLoading",!1),a.success){e.next=7;break}return e.abrupt("return");case 7:t.isCouncliAt=a.result;case 8:case"end":return e.stop()}}),e)})))()},handleToModify:function(){localStorage.setItem("daoDetail",JSON.stringify(this.dataSource)),this.$router.push({path:"/modifyDao?dao"})}},computed:Object(o["a"])({},Object(y["c"])(["lang"])),mounted:function(){},created:function(){document.addEventListener("click",this.handleHideMenu)},destroyed:function(){document.removeEventListener("click",this.handleHideMenu)},components:{ApplyCouncli:D,RemoveCouncli:F}},V=U,N=(a("d999"),Object(p["a"])(V,S,C,!1,null,"7c1aa663",null)),B=N.exports,Q=a("873b"),J={name:"",data:function(){return{currentTab:0,daoList:[],myDaoList:[],recordResloveList:[],myVoteMapList:[],myVoteList:[],votingList:[],endList:[],redeemList:[],voteList:[],voteListShow:!0}},methods:{changeLoading:function(t){this.$emit("changeLoadingIconType",0),this.$emit("changeLoading",t)},handleHideMenu:function(){var t=this;this.daoList.forEach((function(e,a){t.$refs["menu".concat(a)]&&(t.$refs["menu".concat(a)][0].menuShow=!1)}))},handleTabChange:function(t){this.currentTab=t},getDaoList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("changeLoading",!0),t.$emit("changeLoadingIconType",1),e.next=4,c["a"].daoList();case 4:if(a=e.sent,a.success){e.next=7;break}return e.abrupt("return",t.$emit("changeLoading",!1));case 7:if(t.daoList=a.result||[],!(t.daoList.length<=0)){e.next=10;break}return e.abrupt("return",t.$emit("changeLoading",!1));case 10:t.getUserList();case 11:case"end":return e.stop()}}),e)})))()},getUserList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,s,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("changeLoading",!0),t.$emit("changeLoadingIconType",1),e.next=4,c["a"].userDaoList();case 4:if(i=e.sent,i.success){e.next=7;break}return e.abrupt("return",t.$emit("changeLoading",!1));case 7:i.result.forEach((function(e,a){if(e){var n=Object(o["a"])({},t.daoList[a]);n.name="ZH"===t.lang?n.params[1]:n.params[2],n.daoAt=a,n.proposalList=[],t.myDaoList.push(n)}})),u=0;case 9:if(!(u<t.myDaoList.length)){e.next=15;break}return e.next=12,t.handleProposalList(t.myDaoList[u].daoAt,u);case 12:u++,e.next=9;break;case 15:return t.myVoteMapList.forEach((function(e){var a=(new Date).getTime()/1e3,n=-1;a<+t.myDaoList[e.daoAt].proposalList[e.proposalAt].uintParams[3]?n=0:a<+t.myDaoList[e.daoAt].proposalList[e.proposalAt].uintParams[4]?(n=1,t.votingList.push(Object(o["a"])(Object(o["a"])({},t.myDaoList[e.daoAt].proposalList[e.proposalAt]),{},{endTime:t.$gbUtils.showStartime(+t.myDaoList[e.daoAt].proposalList[e.proposalAt].uintParams[4],t.lang),proposalAt:e.proposalAt,daoAt:e.daoAt,logo:t.myDaoList[e.daoAt].params[0],name:"ZH"===t.lang?t.myDaoList[e.daoAt].params[1]:t.myDaoList[e.daoAt].params[2],token:t.myDaoList[e.daoAt].token,timeStatus:n}))):(n=2,t.endList.push(Object(o["a"])(Object(o["a"])({},t.myDaoList[e.daoAt].proposalList[e.proposalAt]),{},{proposalAt:e.proposalAt,daoAt:e.daoAt,logo:t.myDaoList[e.daoAt].params[0],name:"ZH"===t.lang?t.myDaoList[e.daoAt].params[1]:t.myDaoList[e.daoAt].params[2],token:t.myDaoList[e.daoAt].token,timeStatus:2})))})),e.next=18,t.getRedeemList();case 18:(a=t.myVoteList).push.apply(a,Object(r["a"])(t.votingList)),(n=t.myVoteList).push.apply(n,Object(r["a"])(t.redeemList)),(s=t.myVoteList).push.apply(s,Object(r["a"])(t.endList)),t.voteList=t.myVoteList,console.log(t.voteList),t.voteListShow=!0,t.$emit("changeLoading",!1);case 25:case"end":return e.stop()}}),e)})))()},handleProposalList:function(t,e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c["a"].prosalList(t);case 2:s=n.sent,s.result.forEach((function(t,n){var s=Object(o["a"])({},t);s.index=n,a.myDaoList[e].proposalList.push(s)}));case 4:case"end":return n.stop()}}),n)})))()},handleMyVoteRecord:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].userVoteRecordQuery();case 2:if(a=e.sent,a.success){e.next=5;break}return e.abrupt("return");case 5:n=0;case 6:if(!(n<a.result.length)){e.next=12;break}return e.next=9,t.handleResolveVoteRecord(a.result[n]);case 9:n++,e.next=6;break;case 12:t.myVoteMapList=t.$gbUtils.objHeavy(t.recordResloveList);case 13:case"end":return e.stop()}}),e)})))()},handleResolveVoteRecord:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,c["a"].voteRecordResolve(t);case 2:n=a.sent,n.success&&e.recordResloveList.push({daoAt:n.result.daoAt,proposalAt:n.result.proposalAt});case 4:case"end":return a.stop()}}),a)})))()},getRedeemList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.endList.length){e.next=2;break}return e.abrupt("return");case 2:a=0;case 3:if(!(a<t.endList.length)){e.next=11;break}return e.next=6,t.getVoteRecords(t.endList[a].daoAt,t.endList[a].proposalAt);case 6:n=e.sent,n&&(t.redeemList.push(Object(o["a"])(Object(o["a"])({},t.endList[a]),{},{timeStatus:4})),t.endList.splice(a,1));case 8:a++,e.next=3;break;case 11:case"end":return e.stop()}}),e)})))()},getVoteRecords:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,c["a"].voteRecord(t,e,1e3);case 2:return n=a.sent,a.abrupt("return",n.result[0].status);case 4:case"end":return a.stop()}}),a)})))()},handleMenuChange:function(t){switch(t){case 0:this.voteList=this.myVoteList;break;case 1:this.voteList=this.votingList;break;case 2:this.voteList=this.redeemList;break;case 3:this.voteList=this.endList;break}this.reload()},reload:function(){var t=this;this.voteListShow=!1,this.$nextTick((function(){t.voteListShow=!0}))},init:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("changeLoading",!0),t.$emit("changeLoadingIconType",1),e.next=4,t.handleMyVoteRecord();case 4:return e.next=6,t.getDaoList();case 6:case"end":return e.stop()}}),e)})))()}},computed:Object(o["a"])({},Object(y["c"])(["lang"])),watch:{},mounted:function(){this.voteListShow=!1,this.init()},components:{MyHeader:f,VoteItem:k,DaoItem:B,Empty:Q["a"]}},z=J,q=(a("ec40"),Object(p["a"])(z,n,s,!1,null,"3c91fc9c",null));e["default"]=q.exports},d28b:function(t,e,a){var n=a("746f");n("iterator")},d5cf:function(t,e,a){},d614:function(t,e,a){"use strict";a("acee")},d999:function(t,e,a){"use strict";a("40e8")},d9e2:function(t,e,a){var n=a("23e7"),s=a("da84"),r=a("2ba4"),o=a("e5cb"),i="WebAssembly",c=s[i],u=7!==Error("e",{cause:7}).cause,l=function(t,e){var a={};a[t]=o(t,e,u),n({global:!0,arity:1,forced:u},a)},d=function(t,e){if(c&&c[t]){var a={};a[t]=o(i+"."+t,e,u),n({target:i,stat:!0,arity:1,forced:u},a)}};l("Error",(function(t){return function(e){return r(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return r(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return r(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return r(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return r(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return r(t,this,arguments)}})),l("URIError",(function(t){return function(e){return r(t,this,arguments)}})),d("CompileError",(function(t){return function(e){return r(t,this,arguments)}})),d("LinkError",(function(t){return function(e){return r(t,this,arguments)}})),d("RuntimeError",(function(t){return function(e){return r(t,this,arguments)}}))},e01a:function(t,e,a){"use strict";var n=a("23e7"),s=a("83ab"),r=a("da84"),o=a("e330"),i=a("1a2d"),c=a("1626"),u=a("3a9b"),l=a("577e"),d=a("9bf2").f,m=a("e893"),p=r.Symbol,h=p&&p.prototype;if(s&&c(p)&&(!("description"in h)||void 0!==p().description)){var f={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(h,this)?new p(t):void 0===t?p():p(t);return""===t&&(f[e]=!0),e};m(v,p),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(p("test")),b=o(h.toString),y=o(h.valueOf),w=/^Symbol\((.*)\)[^)]+$/,L=o("".replace),A=o("".slice);d(h,"description",{configurable:!0,get:function(){var t=y(this),e=b(t);if(i(f,t))return"";var a=g?A(e,7,-1):L(e,w,"$1");return""===a?void 0:a}}),n({global:!0,forced:!0},{Symbol:v})}},e391:function(t,e,a){var n=a("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},e5cb:function(t,e,a){"use strict";var n=a("d066"),s=a("1a2d"),r=a("9112"),o=a("3a9b"),i=a("d2bb"),c=a("e893"),u=a("aeb0"),l=a("7156"),d=a("e391"),m=a("ab36"),p=a("c770"),h=a("b980"),f=a("83ab"),v=a("c430");t.exports=function(t,e,a,g){var b="stackTraceLimit",y=g?2:1,w=t.split("."),L=w[w.length-1],A=n.apply(null,w);if(A){var k=A.prototype;if(!v&&s(k,"cause")&&delete k.cause,!a)return A;var S=n("Error"),C=e((function(t,e){var a=d(g?e:t,void 0),n=g?new A(t):new A;return void 0!==a&&r(n,"message",a),h&&r(n,"stack",p(n.stack,2)),this&&o(k,this)&&l(n,this,C),arguments.length>y&&m(n,arguments[y]),n}));if(C.prototype=k,"Error"!==L?i?i(C,S):c(C,S,{name:!0}):f&&b in A&&(u(C,A,b),u(C,A,"prepareStackTrace")),c(C,A),!v)try{k.name!==L&&r(k,"name",L),k.constructor=C}catch(x){}return C}}},ec40:function(t,e,a){"use strict";a("b74a")},f546:function(t,e,a){"use strict";a("d5cf")}}]);
//# sourceMappingURL=chunk-ccd9dff8.73203365.js.map