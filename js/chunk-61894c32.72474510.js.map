{"version":3,"sources":["webpack:///./src/views/preSale/PreSaleKol.vue?108c","webpack:///./src/views/preSale/components/PreSaleHeader.vue?1146","webpack:///src/views/preSale/components/PreSaleHeader.vue","webpack:///./src/views/preSale/components/PreSaleHeader.vue?4c85","webpack:///./src/views/preSale/components/PreSaleHeader.vue","webpack:///src/views/preSale/PreSaleKol.vue","webpack:///./src/views/preSale/PreSaleKol.vue?8446","webpack:///./src/views/preSale/PreSaleKol.vue","webpack:///./src/views/preSale/PreSaleKol.vue?cf2b","webpack:///./src/views/home/components/ChangeLangPop.vue?2d24","webpack:///src/views/home/components/ChangeLangPop.vue","webpack:///./src/views/home/components/ChangeLangPop.vue?3bbe","webpack:///./src/views/home/components/ChangeLangPop.vue","webpack:///./src/views/home/components/ChangeLangPop.vue?5ba8","webpack:///./src/views/preSale/components/PreSaleHeader.vue?42fc"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","handleLangShow","staticClass","attrs","type","saleData","countTime","judgeMint","preCountFinish","_v","_s","$t","domProps","changeShowCodePop","model","value","callback","$$v","code","expression","codeLoading","handleCode","_e","nftFilePath","nftName","changeShowNftPop","scopedSlots","_u","key","fn","countDownTime","countDownFinish","proxy","staticRenderFns","$gbUtils","formatAddress","myAccount","name","data","methods","init","$emit","computed","mapState","mounted","component","timerCount","components","StarBox","SaleInfo","MintBtn","CommomPop","NftPop","LoadingPop","PreSaleHeader","ChangeLangPop","langShow","timer","total","totalSold","roundNumber","price","isHadNFT","isEligible","rechargeAddress","token","codePopShow","nftShow","nftShowFlag","loadingShow","countShow","enableBuy","reload","getInfo","setTimeout","params","queryPreSaleInfo","resp","currentTime","beginTime","console","differ","endTime","clearInterval","getNftName","contranctNft","queryMintKol","mintNft","setTimer","setInterval","staticStyle","closePop","show","class","active","lang","$event","changeLanguage","mapActions","changeLang","$toast","$parent"],"mappings":"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","file":"js/chunk-61894c32.72474510.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('PreSaleHeader',{on:{\"handleLangShow\":_vm.handleLangShow}}),_c('div',{staticClass:\"page\"},[_c('StarBox',{attrs:{\"type\":_vm.type,\"info\":_vm.saleData}}),_c('SaleInfo',{attrs:{\"type\":_vm.type,\"info\":_vm.saleData}}),(_vm.countTime > 0)?_c('div',{on:{\"click\":_vm.judgeMint}},[_c('van-count-down',{staticClass:\"mint-btn\",attrs:{\"time\":_vm.countTime,\"format\":\"HH:mm:ss\"},on:{\"finish\":_vm.preCountFinish}})],1):_c('MintBtn',{attrs:{\"type\":_vm.type,\"info\":_vm.saleData},on:{\"mintNft\":_vm.judgeMint}}),_c('div',{staticClass:\"notice\"},[_c('div',{staticClass:\"notice-title\"},[_vm._v(_vm._s(_vm.$t(\"preSale.kolRule\")))]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.$t('preSale.kol1'))}},[_vm._v(\" \"+_vm._s(_vm.$t(\"preSale.kol1\"))+\" \")])]),(_vm.codePopShow)?_c('CommomPop',{on:{\"close\":_vm.changeShowCodePop}},[_c('div',{staticClass:\"pop-wrapper\"},[_c('div',{staticClass:\"pop-title\"},[_vm._v(_vm._s(_vm.$t(\"preSale.inputCode\")))]),_c('van-field',{staticClass:\"form-input\",attrs:{\"input-align\":\"center\",\"placeholder\":_vm.$t('preSale.inputCode'),\"maxlength\":\"6\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_c('VanButton',{staticClass:\"mint-btn\",attrs:{\"loading\":_vm.codeLoading,\"disabled\":_vm.code ? false : true},on:{\"click\":_vm.handleCode}},[_vm._v(_vm._s(_vm.$t(\"common.confirm\")))])],1)]):_vm._e(),(_vm.nftShow)?_c('NftPop',{attrs:{\"info\":_vm.saleData,\"nftFilePath\":_vm.nftFilePath,\"nftName\":_vm.nftName},on:{\"close\":_vm.changeShowNftPop}}):_vm._e(),(_vm.loadingShow)?_c('LoadingPop',{attrs:{\"needTimer\":false},scopedSlots:_vm._u([(_vm.countShow)?{key:\"countdown\",fn:function(){return [_c('div',{staticClass:\"countDown\"},[_c('vanCountDown',{attrs:{\"time\":_vm.countDownTime,\"format\":\"ss\"},on:{\"finish\":_vm.countDownFinish}}),_vm._v(_vm._s(_vm.$t(\"common.second\"))+\" \")],1)]},proxy:true}:null],null,true)},[_c('div',{staticClass:\"countDown tips\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"preSale.minting\"))+\" \")])]):_vm._e(),(_vm.langShow)?_c('ChangeLangPop',{on:{\"close\":_vm.handleLangShow}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-wrapper\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"address\",attrs:{\"translate\":\"no\"}},[_vm._v(\" \"+_vm._s(_vm.$gbUtils.formatAddress(_vm.myAccount, '...', 6))+\" \")]),_c('div',{staticClass:\"menu iconfont manu\",on:{\"click\":_vm.handleLangShow}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"header-wrapper\">\n    <div class=\"header\">\n      <div class=\"address\" translate=\"no\">\n        {{ $gbUtils.formatAddress(myAccount, '...', 6) }}\n      </div>\n      <div class=\"menu iconfont manu\" @click=\"handleLangShow\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n  name: 'Header',\n  data () {\n    return {\n    }\n  },\n  methods: {\n    init () {\n    },\n    handleLangShow () {\n      this.$emit('handleLangShow')\n    }\n  },\n  computed: {\n    ...mapState(['myAccount'])\n  },\n  mounted () {\n    this.init()\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.header-wrapper {\n  position: relative;\n}\n.header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 3px 10px;\n  height: 52px;\n  background-color: #1d1d1d;\n  color: #fff;\n  .menu {\n    position: relative;\n    box-sizing: border-box;\n    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 1);\n    background-color: rgba(53, 44, 37, 1);\n    height: 42px;\n    width: 42px;\n    padding-top: 8px;\n    border-radius: 100px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: #f8bb5a;\n    font-size: 50px;\n    .dot {\n      position: absolute;\n      top: 7px;\n      left: 2px;\n      width: 4px;\n      border-radius: 5px;\n      height: 4px;\n      background-color: red;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreSaleHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreSaleHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PreSaleHeader.vue?vue&type=template&id=04d652f0&scoped=true&\"\nimport script from \"./PreSaleHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./PreSaleHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PreSaleHeader.vue?vue&type=style&index=0&id=04d652f0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04d652f0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <PreSaleHeader @handleLangShow=\"handleLangShow\"/>\n    <div class=\"page\">\n      <StarBox :type=\"type\" :info=\"saleData\" />\n      <SaleInfo :type=\"type\" :info=\"saleData\" />\n      <div  @click=\"judgeMint\" v-if=\"countTime > 0\">\n        <van-count-down class=\"mint-btn\" :time=\"countTime\" format=\"HH:mm:ss\"  @finish=\"preCountFinish\"/>\n      </div>\n      <MintBtn :type=\"type\" :info=\"saleData\" @mintNft=\"judgeMint\" v-else/>\n      <div class=\"notice\">\n        <div class=\"notice-title\">{{ $t(\"preSale.kolRule\") }}</div>\n        <div v-html=\"$t('preSale.kol1')\">\n          {{ $t(\"preSale.kol1\") }}\n        </div>\n        <!-- <div class=\"notice-title\">{{ $t(\"preSale.kol2\") }}</div>\n        <div>{{ $t(\"preSale.kol3\") }}</div>\n        <div>{{ $t(\"preSale.kol4\") }}</div> -->\n      </div>\n      <CommomPop v-if=\"codePopShow\" @close=\"changeShowCodePop\">\n        <div class=\"pop-wrapper\">\n          <div class=\"pop-title\">{{ $t(\"preSale.inputCode\") }}</div>\n          <van-field\n            class=\"form-input\"\n            input-align=\"center\"\n            :placeholder=\"$t('preSale.inputCode')\"\n            v-model=\"code\"\n            maxlength=\"6\"\n          ></van-field>\n          <VanButton\n            :loading=\"codeLoading\"\n            :disabled=\"code ? false : true\"\n            class=\"mint-btn\"\n            @click=\"handleCode\"\n            >{{ $t(\"common.confirm\") }}</VanButton\n          >\n        </div>\n      </CommomPop>\n      <NftPop\n        v-if=\"nftShow\"\n        @close=\"changeShowNftPop\"\n        :info=\"saleData\"\n        :nftFilePath=\"nftFilePath\"\n        :nftName=\"nftName\"\n      />\n      <LoadingPop :needTimer=\"false\" v-if=\"loadingShow\">\n        <template #countdown v-if=\"countShow\">\n         <div class=\"countDown\">\n            <vanCountDown\n              :time=\"countDownTime\"\n              format=\"ss\"\n              @finish=\"countDownFinish\"\n            />{{ $t(\"common.second\") }}\n        </div>\n        </template>\n        <div class=\"countDown tips\">\n          {{ $t(\"preSale.minting\") }}\n        </div>\n      </LoadingPop>\n      <!-- 切换语言弹窗 -->\n      <ChangeLangPop v-if=\"langShow\" @close=\"handleLangShow\"></ChangeLangPop>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PreSaleHeader from './components/PreSaleHeader.vue'\nimport ChangeLangPop from '../home/components/ChangeLangPop.vue'\nimport StarBox from './components/StarBox.vue'\nimport SaleInfo from './components/SaleInfo.vue'\nimport MintBtn from './components/Mint.vue'\nimport CommomPop from '../../components/common/CommomPop.vue'\nimport NftPop from './components/NftPop.vue'\nimport LoadingPop from '../../components/common/LoadingPop.vue'\nimport contranctNft from '../../contracts/contractNFT'\nimport { queryPreSaleInfo, queryMintKol } from '../../services/preSale'\n\nvar timerCount = 12 // 轮询总次数\nexport default {\n  name: '',\n  components: {\n    StarBox,\n    SaleInfo,\n    MintBtn,\n    CommomPop,\n    NftPop,\n    LoadingPop,\n    PreSaleHeader,\n    ChangeLangPop\n  },\n  data () {\n    return {\n      langShow: false,\n      nftFilePath: 'kol',\n      timer: null,\n      type: 1, // 1 团长预售\n      saleData: {\n        total: 0,\n        totalSold: 0,\n        roundNumber: 0,\n        price: '1000',\n        isHadNFT: 1, // 是否拥有nft 1 拥有\n        isEligible: 0, // 是否可以购买 1 是（已经填过特邀码）\n        rechargeAddress: '',\n        token: ''\n      },\n      codePopShow: false,\n      codeLoading: false,\n      code: '',\n      nftShow: false,\n      nftShowFlag: false, // 首次弹出\n      loadingShow: false, // loading--显示\n      countDownTime: 60000,\n      countShow: false,\n      nftName: 'StarFish',\n      enableBuy: false, // 是否在预售期\n      countTime: 0\n    }\n  },\n  methods: {\n    reload () {\n\n    },\n    preCountFinish () {\n      this.countTime = 0\n      this.getInfo()\n    },\n    handleLangShow () {\n      this.langShow = !this.langShow\n    },\n    async init () {\n      this.$emit('changeLoading', true)\n      this.getInfo()\n      await this.getNftName()\n      // this.getInfo()\n      setTimeout(() => {\n        this.$emit('changeLoading', false)\n      }, 1500)\n    },\n    async getInfo () {\n      const params = {\n        type: this.type\n      }\n      const resp = await queryPreSaleInfo(params)\n      if (!resp.success) return\n      this.saleData = resp.data || this.saleData\n      // this.saleData.totalSold = 400\n      const currentTime = new Date().getTime()\n      var beginTime = this.saleData.beginDate || 0\n      if (beginTime) {\n        beginTime = beginTime.replace(new RegExp('-', 'gm'), '/')\n        beginTime = new Date(beginTime).getTime()\n        console.log(beginTime, 'begin')\n        const differ = beginTime - currentTime\n        console.log(differ, 'differ')\n        this.countTime = differ > 0 ? differ : 0\n      }\n      var endTime = this.saleData.endDate || 0\n      if (endTime) {\n        endTime = endTime.replace(new RegExp('-', 'gm'), '/')\n        endTime = new Date(endTime).getTime()\n      }\n      var differ = endTime - currentTime\n      this.enableBuy = differ > 0\n      if (resp.data.isHadNFT) {\n        this.getNftName(resp.data.tokenType)\n        clearInterval(this.timer)\n        this.timer = null\n        this.loadingShow = false\n        // 不是首次弹出\n        if (!this.nftShowFlag) {\n          this.nftShowFlag = true\n          this.nftShow = true\n        }\n      }\n    },\n    async getNftName (type = 1) {\n      const resp = await contranctNft.getName(type)\n      if (!resp.success) return\n      this.nftName = resp.result\n    },\n    async judgeMint () {\n      if (this.saleData.isCode && !this.enableBuy) { return this.$toast(this.$t('preSale.saleEnd')) }\n      if (this.saleData.isCode && !this.saleData.isEligible) { return this.$toast(this.$t('preSale.pleaseWait')) }\n      await this.getInfo()\n      // 已经输入购买码\n      if (this.saleData.isCode) {\n        if (this.saleData.isEligible) {\n          this.$emit('changeLoading', true)\n          this.mintNft()\n        }\n      } else {\n        this.changeShowCodePop()\n      }\n    },\n    changeShowCodePop () {\n      this.codePopShow = !this.codePopShow\n    },\n    // 填写特邀码\n    async handleCode () {\n      if (!this.code) return\n      this.codeLoading = true\n      const resp = await queryMintKol(this.code)\n      if (!resp.success) {\n        this.codeLoading = false\n        return\n      }\n      this.changeShowCodePop()\n      await this.getInfo()\n      this.judgeMint()\n    },\n    async mintNft () {\n      this.$emit('changeLoadingIconType', 1)\n      this.loadingShow = true\n      const resp = await this.$web3.transferToken(\n        this.saleData.token,\n        this.saleData.rechargeAddress,\n        this.saleData.price\n      )\n      if (!resp.success) {\n        this.codeLoading = false\n        this.loadingShow = false\n        return\n      }\n      // 显示loading\n      this.countShow = true\n      this.setTimer() // 设定计时器查询\n    },\n    countDownFinish () {\n      this.countShow = false\n    },\n    setTimer () {\n      this.timer = setInterval(() => {\n        timerCount = timerCount - 1\n        this.getInfo()\n        if (timerCount <= 1) {\n          clearInterval(this.timer)\n          this.timer = null\n        }\n      }, 5000)\n    },\n    changeShowNftPop () {\n      this.nftShow = !this.nftShow\n      this.codePopShow = false\n    }\n  },\n  mounted () {\n    this.init()\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.page {\n  color: #dbd9d5;\n  padding: 20px 23px 23px;\n  box-sizing: border-box;\n  .pop-wrapper {\n    .pop-title {\n      margin-bottom: 50px;\n      color: #dbd9d5;\n      font-size: 16px;\n      font-weight: bold;\n    }\n    .form-input {\n      background: #dbd9d5;\n      box-shadow: 0px 5px 4px 0px rgba(23, 23, 25, 1);\n      border-radius: 4px;\n      margin: 8px auto;\n    }\n    .mint-btn {\n      box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 1);\n      background-color: rgba(248, 187, 90, 1);\n      border-radius: 4px;\n      height: 50px;\n      width: 100%;\n      border: none;\n      margin: 20px auto;\n      font-size: 14px;\n      font-weight: bold;\n    }\n  }\n  .countDown {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 10px;\n    font-size: 14px;\n    line-height: 1.5em;\n    /deep/ .van-count-down {\n      color: #fff;\n      font-size: 14px;\n      margin: 0px 5px 0 5px;\n      line-height: 1.5em;\n    }\n    &.tips {\n      padding-bottom: 10px;\n      margin-top: 10px;\n      text-align: center;\n    }\n  }\n  .notice {\n    font-size: 10px;\n    padding: 0 15px;\n    .notice-title {\n      font-size: 14px;\n    }\n    div {\n      padding: 4px 0;\n    }\n  }\n  .mint-btn {\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 1);\n  background-color: rgba(248, 187, 90, 1);\n  border-radius: 4px;\n  height: 40px;\n  line-height: 40px;\n  width: 232px;\n  border: none;\n  margin: 20px auto;\n  font-size: 14px;\n  font-weight: bold;\n  text-align: center;\n}\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreSaleKol.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreSaleKol.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PreSaleKol.vue?vue&type=template&id=510c0724&scoped=true&\"\nimport script from \"./PreSaleKol.vue?vue&type=script&lang=js&\"\nexport * from \"./PreSaleKol.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PreSaleKol.vue?vue&type=style&index=0&id=510c0724&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"510c0724\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreSaleKol.vue?vue&type=style&index=0&id=510c0724&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('VanPopup',{staticStyle:{\"box-sizing\":\"border-box\",\"width\":\"93%\",\"max-width\":\"400px\",\"background-color\":\"#000\",\"padding\":\"20px 30px\",\"box-shadow\":\"0px 2px 4px 0px rgba(0, 0, 0, 1)\",\"border-radius\":\"4px\"},attrs:{\"round\":\"\"},on:{\"click-overlay\":_vm.closePop},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"lang-wrap\",attrs:{\"translate\":\"no\"}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('home.changeLang')))]),_c('div',{staticClass:\"lang-item\",class:{ active: _vm.lang === 'EN' },on:{\"click\":function($event){return _vm.changeLanguage('EN')}}},[_vm._v(\" English \")]),_c('div',{staticClass:\"lang-item\",class:{ active: _vm.lang === 'ZH' },on:{\"click\":function($event){return _vm.changeLanguage('ZH')}}},[_vm._v(\" 繁體中文 \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <VanPopup\n    style=\"\n      box-sizing: border-box;\n      width: 93%;\n      max-width: 400px;\n      background-color: #000;\n      padding: 20px 30px;\n      box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 1);\n      border-radius: 4px;\n    \"\n    round\n    @click-overlay=\"closePop\"\n    v-model=\"show\"\n  >\n    <div class=\"lang-wrap\" translate=\"no\">\n      <div class=\"title\">{{ $t('home.changeLang') }}</div>\n      <div\n        class=\"lang-item\"\n        @click=\"changeLanguage('EN')\"\n        :class=\"{ active: lang === 'EN' }\"\n      >\n        English\n      </div>\n      <div\n        class=\"lang-item\"\n        @click=\"changeLanguage('ZH')\"\n        :class=\"{ active: lang === 'ZH' }\"\n      >\n        繁體中文\n      </div>\n    </div>\n  </VanPopup>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nexport default {\n  name: '',\n  data () {\n    return {\n      show: true\n    }\n  },\n  methods: {\n    ...mapActions(['changeLang']),\n    changeLanguage (lang) {\n      this.changeLang(lang)\n      this.$toast('Success')\n      this.$parent.reload()\n      this.closePop()\n    },\n    closePop () {\n      this.$emit('close')\n    }\n  },\n  computed: {\n    ...mapState(['lang'])\n  },\n  mounted () {\n\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.lang-wrap {\n  .title {\n    color: #dbd9d5;\n    text-align: center;\n    margin-bottom: 30px;\n  }\n  .lang-item {\n    margin-top: 10px;\n    height: 41px;\n    text-align: center;\n    line-height: 41px;\n    font-weight: 600;\n    border-radius: 4px;\n  }\n  .lang-item {\n    color: #fff;\n    background: #352c25;\n  }\n  .active {\n    color: #352c25;\n    background: #dbd9d5;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeLangPop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeLangPop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangeLangPop.vue?vue&type=template&id=641f94e3&scoped=true&\"\nimport script from \"./ChangeLangPop.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangeLangPop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChangeLangPop.vue?vue&type=style&index=0&id=641f94e3&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"641f94e3\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeLangPop.vue?vue&type=style&index=0&id=641f94e3&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreSaleHeader.vue?vue&type=style&index=0&id=04d652f0&scoped=true&lang=scss&\""],"sourceRoot":""}